{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./src/util/index.ts","webpack:///./src/log.ts","webpack:///./src/Dom/targetDom.ts","webpack:///./src/store/index.ts","webpack:///./src/util/HandelEventer.ts","webpack:///./src/mixins.ts","webpack:///./src/parse/index.ts","webpack:///./src/config/lexer_config.ts","webpack:///./src/config/ast_config.ts","webpack:///./src/store/loader/index.ts","webpack:///./src/index.ts","webpack:///./src/compile/index.ts","webpack:///./src/util/util.ts","webpack:///./src/util/handelType.ts","webpack:///./src/util/handelCoding.ts","webpack:///./src/compile/render.ts","webpack:///./src/dom/dom.ts","webpack:///./src/compile/parseTpl.ts","webpack:///./src/parse/lexer.ts","webpack:///./src/parse/parser.ts","webpack:///./src/parse/astBuilder.ts","webpack:///./src/parse/astCompile.ts","webpack:///./src/config/unSafeStr.ts","webpack:///./src/pipe/pipe.ts","webpack:///./src/compile/HandelData.ts","webpack:///./src/compile/HandelEvent.ts","webpack:///./src/http/index.ts","webpack:///./src/http/parseHttp.ts","webpack:///./src/router/index.ts","webpack:///./src/store/injector/index.ts","webpack:///./src/compile/componentGuard.ts","webpack:///./src/Dom/index.ts","webpack:///./src/Dom/nodeModel.ts","webpack:///./src/Dom/eventModel.ts","webpack:///./src/Dom/moveModel.ts","webpack:///./src/Dom/statusModel.ts","webpack:///./src/cache/cookie.ts"],"names":["root","factory","exports","module","define","amd","a","i","window","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Util","util","default","log","str","console","info","warn","error","Error","targetDom","selector","this","elements","document","querySelectorAll","els","_getEles","nodes","length","each","fn","loader_1","injector_1","loader","inject","Store","moduleName","app","ins","data","val","has","provider","obj","service","Eventer","HandelEventer","eventList","trigger","msg","Array","shift","arguments","fns","apply","listen","push","remove","_fn","splice","__read","iterator","e","ar","next","done","__spread","concat","mixins","otherClass","_i","targetClass","assign","applyMixins","derivedCtor","baseCtors","forEach","baseCtor","getOwnPropertyNames","lexer_1","parser_1","ps","util_1","Parse","pipes","register","pipe","parse","that","expression","type","lexer","parser","oneTime","charAt","substring","parseFn","constant","$$handelWatch","constantHandelWatch","literal","oneTimeLiteralHandelWatch","oneTimeHandelWatch","inputs","inputsHandelWatch","state","listenerFn","valueEq","watchFn","$watch","newVal","oldVal","lastVal","cancel","$afterDigest","compareValues","source","target","toLowerCase","includes","array","filterExp","predicateFn","exp","item","deepCompareValues","compare","startsWith","objVal","some","filter","SPECIALS","'","LETTER","undefined","OPERATORS","dataType","ast_init","body","ast_constant","ast_array","ast_object","ast_json","ast_identifier","ast_this","ast_member","computed","ast_function","callee","Boolean","ast_assignment","left","right","ast_unary","operator","ast_binary","ast_logical","ast_teranry","boolean_expression","true_value","error_value","$log","moduleNames","Loader","requires","clear","configFn","$$set","$$get","invokeQueue","configQueue","invokeFn","prefix","arrProp","queue","moduleObj","config","run","_runQueue","_invokeQueue","_configQueue","compile_1","Component","Dom_1","Dom","cookie_1","Cookie","Cpage","render_1","componentGuard_1","store","ensureOneInvokeComponent","arr","res","rootName","names","CPage","CList","id","bootstrap","rootComponent","componetList","isRoot","classToJson","componentJson","components","v","componentToDom","router","component","directive","conf","guard","componentInfo","deepClone","defineProperties","writable","$el","$props","querySelector","version","template","props","render","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","rejected","result","then","__generator","f","y","g","_","label","sent","trys","ops","verb","op","TypeError","pop","mixins_1","handelType_1","handelCoding_1","isEqual","str1","str2","JSON","stringify","areEqual","equalStatus","toString","b","pt","cr","cn","pn","test","isNaN","Date","valueOf","Function","replace","alen","blen","clone","ni","repeatObj","manyTime","repeat","everyScope","cb","scope","$children","every","child","handelEvent","eventName","listener","objToMap","map","Map","set","mapToObj","nextLeter","index","wrapString","expect","es","exitFirst","consume","exit","uArray","newArr","Set","arrayItem","arrayItem2","arrayLastItem","reverse","arraySplice","arrayCompact","intersection","parseString","hasProperty","ele","inStr","objKey","isEmpty","expectSome","newObj","cameCase","x","slice","toUpperCase","_cameCase","extend","trimStr","trim","now","date","year","getFullYear","month","getMonth","day","getDate","parseInt","page","width","innerWidth","height","innerHeight","propertyObj","__proto__","prototypeObj","entries","protoNames","sleep","delay","_a","setTimeout","isNil","HandelType","isNumber","isExponent","ch","isLetter","split","isWhiteSpace","whichType","HandelCoding","nonComputedMember","computedMember","notExist","concatCode","token","conditionIsRight","condition","statement","compileId","flag","uid","unshift","__values","dom_1","parseTpl_1","HandelData_1","HandelEventer_1","HandelEvent_1","index_1","http_1","router_1","PREFIX_DIRECTIVE","ID","renderComponents","CObj","listToObj","cRefList","cShowList","cIfList","ifTpl","cHtmlList","cForList","cRepeatList","cViewList","dataId","componentToken","componentNames","getComponentNameList","componentAttrs","templateId","oneRootComponent","$router","$routerCache","handelComponent","node","self","loopNodes","rootTpl","invokeLoopComponents","invokeRouter","outerHTML","getAttribute","loopComponents","readyState","hash","location","path","handelView","getNowRouter","substr","q","cache","innerHTML","handelEventListener","firstChild","insertAdjacentHTML","childNodes","which","addEventListener","nowPath","newURL","nowRouter","wrapDom","theTpl","hasHtml","hasHtmlUrl","templateUrl","theStyle","style","styleId","url","styleUrl","_this","nodeType","setAttribute","getComponent","addDirectiveList","j","len","attributes","attrName","normalizeDirective","match","displayStatus","boolToDisplay","display","html","fatherData","componentArr","componentName","handelCC","before","handelDataChange","handelBeforeRender","handelAfterRender","compareChildComponentAndInjectComponents","$data","$http","$event","beforeRender","$refs","componentStatus","status","invokeAfterRender","step6","addStyle","renderOnce","handelCforDirective","handelOtherDirective","handelRenderFn","loopChildComponent","dom","newNode","newProps","combineAttrAndProps","getChangedData","loopCforToDom","loopIfToDom","loopHtmlToDom","rfs","findComponent","attrArr","getAttr","newAttrArr","array_intersection","ev","e_1","_b","_c","event","e_1_1","return","_loop_1","parseNode","dataPos","dataPosition","updateData","dataChangeToDom","loopTextToDom","loopAttrToDom","textData","df","dp","originNode","parentNode","position","textContent","new","attrData","attr","newAttr","handelIf","changeAttr","isComponent","childChangePos","chItem","changedComponent","changedOriginComponentProps","changedComponentData","changedPropKey","changedPropVal","changedComponentProps","combineChangedProps","changedOrginText","reRender","currentRepeat","rVal","re","match2","itemsExp","items","inComponent","removeDomExpectWhich","newn","cloneNode","innerComponents","el","insertAdjacentElement","ifVal","cIf","ifDom","replaceComment","replaceChild","addComment","h","temp","parseName","isComponentData","RegExp","exec","nameIndex","indexOf","prev1","prev2","prev3","next1","next2","next3","loopAttr","hasAttributes","attrVal","isCs","loopText","text","loopTagNode","normalizedNodeName","getNodeName","noOtherAttr","directiveIsMulit","mulit","componentLayer","sort","layer","cid","DOM","HandelDom","BOOLEAN_ATTRS","selected","BOOLEAN_ELEMENT","createDom","matchArr","pattern","elemName","createElement","nodeName","tagName","wrap","getA","bool","expectSomeAttr","createComment","createNodeIterator","NodeFilter","SHOW_COMMENT","nextNode","nodeValue","tag","appendStyle","inner","title","newStyle","appendChild","addSelectorPrefix","stylesheet","styleSheets","cssRules","selectorText","removeChild","watch","MutationObserver","WebKitMutationObserver","MozMutationObserver","mu","observe","childList","characterData","subtree","attributeOldValue","characterDataOldValue","booleanAttr","parse_1","ParseTpl","combineData","tpl","startIndex","endIndex","expFn","parts","reduce","prev","cur","expectNullUndefined","lexer_config_1","Lexer","tokens","lex","loopNumber","loopString","loopLetter","pushObj","loopOperator","nextStr","number","Number","quote","string","raw","letter","identifier","str3","op2","op3","ct","astBuilder_1","astCompile_1","Parser","astBuilder","astCompile","compile","AST","LEXER","ASTBuilder","ast","init","pipeBuilder","agency","arrayBuilder","objectBuilder","identifierBuilder","constantBuilder","memberBuilder","closingTags","assignmentBuilder","ternaryBuilder","unaryBuilder","ue","multiplicativeBuilder","additiveBuilder","relationalBuilder","equalityBuilder","andBuilder","orBuilder","args","ast_config_1","K","ASTCompile","echo","handelTree","constantExpr","pipePrefix","join","safeProperty","safeObject","safeFunction","isUndefined","isLiteral","context","createNewElement","initCompile","metaCompile","arrayCompile","objectCompile","identifierCompile","thisCompile","memberCompile","functionCompile","assigmentCompile","unaryCompile","binaryCompile","logicalCompile","ternaryCompile","last","incrementId","noComp","comp","callContext","pipeCompile","leftCon","id2","k","cons","arrayLike","leftRight","PROPERTY","WINDOW","f2","NODE","constructor","getOwnPropertyDescriptor","fun","FUN","Pipe","returnPipes","$pipeProvider","$provider","$get","$injector","$inject","Data","HandelData","oldData","newData","old","HandelEvent","parseHttp_1","http","Http","ajax","parseHttp","post","put","delete","httpType","xhr","XMLHttpRequest","open","onreadystatechange","response","statusText","responseType","setRequestHeader","send","Router","routers","_parseRouters","_getNowRouter","params","lastIndexOf","regexp","_pathToReg","ret","originalPath","keys","slash","option","optional","star","go","updateRouterConfig","reflesh","back","history","FN_REG","SPACE_REG","COMMENTS_REG","Injector","strict","providerCache","providerInjecter","injectAgency","dataCache","dataInjecter","invoke","loadedModules","cricle","depPath","runQueue","handelReturn","instantiate","listQueue","queues","inq","method","handelCache","handeldepPath","local","annotate","fn2","instance","loadMobule","module_1","extendStatics","__extends","setPrototypeOf","__","targetDom_1","nodeModel_1","eventModel_1","moveModel_1","statusModel_1","DomAction","_super","nodeModel","innerText","css","e_2","getComputedStyle","e_2_1","e_3","offsetWidth","e_3_1","e_4","offsetHeight","e_4_1","e_5","hasAttribute","e_5_1","e_6","oldStr","e_6_1","addClass","e_7","classList","add","e_7_1","removeClass","e_8","e_8_1","toggleClass","e_9","toggle","e_9_1","eventModel","on","eventType","off","removeEventListener","hover","out","click","element","count","scroll","resize","offsetLeft","offsetTop","onresize","moveModel","show","_d","_e","_f","hide","_loop_2","statusModel","hasAttrs","hasAttr","hasClass","contains","support","cookie","navigator","cookieEnabled","encodeURIComponent","hours","setHours","getHours","toUTCString","domain","secure","cs","arr2","a1","decodeURIComponent","reg","eval","$1","all"],"mappings":"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","file":"bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 10);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"./util\");\nvar Util = new util_1.util();\nexports.default = Util;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction log(str) {\n    console.log(str);\n}\nexports.log = log;\nfunction info(str) {\n    console.info(str);\n}\nexports.info = info;\nfunction warn(str) {\n    console.warn(str);\n}\nexports.warn = warn;\nfunction error(str) {\n    throw new Error(str);\n}\nexports.error = error;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * 公共方法\n */\nvar targetDom = /** @class */ (function () {\n    function targetDom(selector) {\n        this.elements = document.querySelectorAll(selector);\n        this.els = this._getEles(this.elements);\n    }\n    targetDom.prototype._getEles = function (nodes) {\n        if (nodes && nodes.length) {\n            return nodes;\n        }\n    };\n    /**\n     * 遍历dom节点\n     * @param nodes 节点\n     * @param fn 回调函数 val, index\n     */\n    targetDom.prototype.each = function (nodes, fn) {\n        for (var i = 0; i < nodes.length; i++) {\n            fn(nodes[i], i);\n        }\n    };\n    return targetDom;\n}());\nexports.default = targetDom;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar loader_1 = require(\"./loader\");\nvar injector_1 = require(\"./injector\");\nvar loader = new loader_1.default();\nvar inject = new injector_1.default();\n/**\n * 数据存储解析服务\n */\nvar Store = /** @class */ (function () {\n    function Store(moduleName) {\n        if (moduleName === void 0) { moduleName = 'Cpage'; }\n        this.app = loader.module(moduleName, []);\n        this.ins = function () {\n            return inject.inject([moduleName]);\n        };\n    }\n    /**\n     * 存储数据\n     * @param key\n     * @param val\n     */\n    Store.prototype.data = function (key, val) {\n        this.app.data(key, val);\n    };\n    /**\n     * 是否有key这个变量\n     * @param key\n     */\n    Store.prototype.has = function (key) {\n        return this.ins().has(key);\n    };\n    /**\n     * 获取数据\n     * @param key\n     */\n    Store.prototype.get = function (key) {\n        return this.ins().get(key);\n    };\n    /**\n     * provider函数\n     * @param key\n     * @param obj { $get: function(){} }\n     */\n    Store.prototype.provider = function (key, obj) {\n        this.app.provider(key, obj);\n    };\n    /**\n     * factory函数\n     * @param key\n     * @param fn 需要返回值\n     */\n    Store.prototype.factory = function (key, fn) {\n        this.app.factory(key, fn);\n    };\n    /**\n     * service 函数\n     * @param key\n     * @param fn\n     */\n    Store.prototype.service = function (key, fn) {\n        this.app.service(key, fn);\n    };\n    return Store;\n}());\nexports.default = Store;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar HandelEventer = /** @class */ (function () {\n    function HandelEventer() {\n        this.eventList = {};\n    }\n    /**\n     * 触发事件\n     * @param name\n     * @param msg\n     */\n    HandelEventer.prototype.trigger = function (name, msg) {\n        var key = Array.prototype.shift.call(arguments);\n        var fns = this.eventList[key];\n        if (!fns || fns.length === 0) {\n            return false;\n        }\n        ;\n        for (var i = 0, fn; fn = fns[i++];) {\n            fn.apply(this, arguments);\n        }\n    };\n    /**\n     * 监听事件\n     * @param name\n     * @param fn\n     */\n    HandelEventer.prototype.listen = function (name, fn) {\n        if (!this.eventList[name]) {\n            this.eventList[name] = [];\n        }\n        ;\n        this.eventList[name].push(fn);\n    };\n    HandelEventer.prototype.remove = function (key, fn) {\n        var fns = this.eventList[key];\n        // key对应的消息没有被人订阅\n        if (!fns) {\n            return false;\n        }\n        // 没有传入fn(具体的回调函数), 表示取消key对应的所有订阅\n        if (!fn) {\n            fns && (fns.length = 0);\n        }\n        else {\n            // 反向遍历\n            for (var i = fns.length - 1, _fn = fns[i]; i >= 0; i--) {\n                if (_fn === fn) {\n                    // 删除订阅回调函数\n                    fns.splice(i, 1);\n                }\n            }\n        }\n    };\n    return HandelEventer;\n}());\nvar Eventer = new HandelEventer();\nexports.default = Eventer;\n","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction mixins() {\n    var otherClass = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        otherClass[_i] = arguments[_i];\n    }\n    return function (targetClass) {\n        Object.assign.apply(Object, __spread([targetClass.prototype], otherClass));\n    };\n}\nexports.mixins = mixins;\n/**\n * 此方法用于实现class多继承\n * @param derivedCtor\n * @param baseCtors\n */\nfunction applyMixins(derivedCtor, baseCtors) {\n    baseCtors.forEach(function (baseCtor) {\n        Object.getOwnPropertyNames(baseCtor.prototype).forEach(function (name) {\n            derivedCtor.prototype[name] = baseCtor.prototype[name];\n        });\n    });\n}\nexports.applyMixins = applyMixins;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar lexer_1 = require(\"./lexer\");\nvar parser_1 = require(\"./parser\");\nvar pipe_1 = require(\"../pipe/pipe\");\nvar ps = new pipe_1.default();\nvar util_1 = require(\"../util\");\nvar Parse = /** @class */ (function () {\n    function Parse() {\n        this.pipes = ps.pipes;\n    }\n    /**\n     * 注册管道\n     * @param name\n     * @param factory\n     */\n    Parse.prototype.register = function (name, factory) {\n        ps.register(name, factory);\n        return this;\n    };\n    Parse.prototype.pipe = function (name) {\n        return ps.pipe(name);\n    };\n    /**\n     * 词法解析\n     * @param str\n     */\n    Parse.prototype.parse = function (str) {\n        var that = this;\n        function parse(expression, pipes) {\n            switch (util_1.default.type(expression)) {\n                case 'string':\n                    var lexer = new lexer_1.default();\n                    var parser = new parser_1.default(lexer, pipes);\n                    var oneTime = false;\n                    //单次检测\n                    if (expression.charAt(0) == ':' && expression.charAt(1) == ':') {\n                        oneTime = true;\n                        expression = expression.substring(2);\n                    }\n                    var parseFn = parser.parse(expression);\n                    if (parseFn.constant) { //常量\n                        parseFn.$$handelWatch = that.constantHandelWatch;\n                    }\n                    if (oneTime) { //单次检测\n                        parseFn.$$handelWatch = parseFn.literal ? that.oneTimeLiteralHandelWatch : that.oneTimeHandelWatch;\n                    }\n                    if (parseFn.inputs) {\n                        parseFn.$$handelWatch = that.inputsHandelWatch;\n                    }\n                    return parseFn;\n                case 'function':\n                    return expression;\n            }\n        }\n        return parse(str, this.pipes);\n    };\n    /**\n     * 处理参数为常量的状况\n     * @param state\n     * @param listenerFn\n     * @param valueEq\n     * @param watchFn\n     */\n    Parse.prototype.constantHandelWatch = function (state, listenerFn, valueEq, watchFn) {\n        var cancel = state.$watch(function () {\n            return watchFn(state);\n        }, function (newVal, oldVal, state) {\n            if (util_1.default.type(listenerFn) == 'function') {\n                listenerFn.apply(this, arguments);\n            }\n        }, valueEq);\n        return cancel;\n    };\n    /**\n     * 处理单次检测问题\n     * @param state\n     * @param listenerFn\n     * @param valueEq\n     * @param watchFn\n     */\n    Parse.prototype.oneTimeHandelWatch = function (state, listenerFn, valueEq, watchFn) {\n        var lastVal;\n        var cancel = state.$watch(function () {\n            return watchFn(state);\n        }, function (newVal, oldVal, state) {\n            lastVal = newVal;\n            if (util_1.default.type(listenerFn) == 'function') {\n                listenerFn.apply(this, arguments);\n            }\n            if (util_1.default.type(newVal) != 'undefined') {\n                state.$afterDigest(function () {\n                    if (util_1.default.type(lastVal) != 'undefined') {\n                        cancel();\n                    }\n                });\n            }\n        }, valueEq);\n        return cancel;\n    };\n    /**\n     * 处理数组或对象的变量问题\n     * @param state\n     * @param listenerFn\n     * @param valueEq\n     * @param watchFn\n     */\n    Parse.prototype.oneTimeLiteralHandelWatch = function (state, listenerFn, valueEq, watchFn) {\n        var lastVal;\n        var cancel = state.$watch(function () {\n            return watchFn(state);\n        }, function (newVal, oldVal, state) {\n            lastVal = newVal;\n            if (util_1.default.type(listenerFn) == 'function') {\n                listenerFn.apply(this, arguments);\n            }\n            if (util_1.default.type(newVal) != 'undefined') {\n                state.$afterDigest(function () {\n                    if (util_1.default.type(lastVal) != 'undefined') {\n                        cancel();\n                    }\n                });\n            }\n        }, valueEq);\n        return cancel;\n    };\n    Parse.prototype.inputsHandelWatch = function (state, listenerFn, valueEq, watchFn) {\n        var inputExpr = watchFn.inputs;\n        return state.$watch(function () {\n        }, listenerFn, valueEq);\n    };\n    return Parse;\n}());\nvar parse = new Parse();\nexports.default = parse;\n// 默认管道函数--开始\nvar newParse = new Parse();\nnewParse.register('filter', defaultFilter);\nfunction defaultFilter() {\n    return function (array, filterExp) {\n        var predicateFn;\n        switch (util_1.default.type(filterExp)) {\n            case 'function':\n                predicateFn = filterExp;\n                break;\n            case 'string':\n            case 'number':\n            case 'boolean':\n            case 'null':\n            case 'undefined':\n            case 'object':\n                predicateFn = createPredicateFn(filterExp);\n                break;\n            default:\n                return array;\n        }\n        return array.filter(predicateFn);\n    };\n}\n// 如果pipe后面非函数表达式就生成一个\nfunction createPredicateFn(exp) {\n    // item指数组元素\n    return function predicateFn(item) {\n        return deepCompareValues(item, exp, compareValues);\n    };\n}\n// source值数组的元素，target值pipe表达式冒号后面的字符，pipe:\"a\"\nfunction compareValues(source, target) {\n    if (util_1.default.type(source) == 'null' || util_1.default.type(target) == 'null') {\n        return source === target;\n    }\n    // 不对undefined处理\n    if (util_1.default.type(source) == 'undefined')\n        return false;\n    source = ('' + source).toLowerCase();\n    target = ('' + target).toLowerCase();\n    return source.includes(target);\n}\n// 如果数组元素是对象进行深度比较\nfunction deepCompareValues(source, target, compare) {\n    if (util_1.default.type(target) == 'string' && target.startsWith('!')) {\n        return !deepCompareValues(source, target.substring(1), compare);\n    }\n    if (util_1.default.type(source) == 'object') {\n        if (util_1.default.type(target) == 'object') {\n            for (var i in target) {\n                return deepCompareValues(source[i], target[i], compare);\n            }\n        }\n        var arr = util_1.default.objVal(source);\n        return arr.some(function (val) {\n            return deepCompareValues(val, target, compare);\n        });\n    }\n    return compare(source, target);\n}\n// 注册管道函数--结束\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// js特殊字符\nvar SPECIALS = {\n    '\\'': '\\'',\n    '\\\"': '\\\"',\n    '&': '\\&',\n    '\\\\': '\\\\',\n    'n': '\\n',\n    'r': '\\r',\n    't': '\\t',\n    'b': '\\b',\n    'f': '\\f',\n};\nexports.SPECIALS = SPECIALS;\n//词法解析中关于字符的配置对象\nvar LETTER = {\n    'null': null,\n    'true': true,\n    'false': false,\n    'undefined': undefined,\n    'this': undefined\n};\nexports.LETTER = LETTER;\n//运算符\nvar OPERATORS = {\n    '+': true,\n    '!': true,\n    '-': true,\n    '*': true,\n    '%': true,\n    '/': true,\n    '=': true,\n    '>': true,\n    '<': true,\n    '>=': true,\n    '<=': true,\n    '==': true,\n    '===': true,\n    '!=': true,\n    '!==': true,\n    '&&': true,\n    '||': true,\n    '|': true\n};\nexports.OPERATORS = OPERATORS;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//数据类型\nexports.dataType = {\n    '1': 'ASTBuilder.Init',\n    '2': 'ASTBuilder.MetaData',\n    '3': 'ASTBuilder.Array',\n    '4': 'ASTBuilder.Object',\n    '5': 'ASTBuilder.Identifier',\n    '6': 'ASTBuilder.This',\n    '7': 'ASTBuilder.Member',\n    '8': 'ASTBuilder.Function',\n    '9': 'ASTBuilder.Assignment',\n    '10': 'ASTBuilder.Unary',\n    '11': 'ASTBuilder.Binary',\n    '12': 'ASTBuilder.Logical',\n    '13': 'ASTBuilder.Teranry'\n};\n// astBuilder的词法解析匹配模式\nexports.ast_init = {\n    type: exports.dataType['1'],\n    body: {}\n};\n//常量\nexports.ast_constant = {\n    type: exports.dataType['2'],\n    value: undefined\n};\n//数组\nexports.ast_array = {\n    type: exports.dataType['3'],\n    value: undefined\n};\n/**\n * 对象\n * {\"type\":\"ASTBuilder.Object\",\"value\":[{\"type\":\"ASTBuilder.Identifier\",\"key\":{\"type\":\"ASTBuilder.MetaData\",\"value\":\"id\"},\"value\":{\"type\"\n:\"ASTBuilder.MetaData\",\"value\":1}}]}\n */\nexports.ast_object = {\n    type: exports.dataType['4'],\n    value: undefined //数组，指向ast_json\n};\nexports.ast_json = {\n    type: exports.dataType['5'],\n    key: undefined,\n    value: undefined\n};\n// 标识符\nexports.ast_identifier = {\n    type: exports.dataType['5'],\n    value: undefined\n};\n// this\nexports.ast_this = {\n    type: exports.dataType['6']\n};\n// 对象属性表达式，a.b a['b']\nexports.ast_member = {\n    type: exports.dataType['7'],\n    object: undefined,\n    property: undefined,\n    computed: undefined\n};\n// 函数表达式\nexports.ast_function = {\n    type: exports.dataType['8'],\n    callee: undefined,\n    arguments: undefined,\n    pipe: Boolean\n};\n// 赋值表达式\nexports.ast_assignment = {\n    type: exports.dataType['9'],\n    left: undefined,\n    right: undefined\n};\n// 一元运算符\nexports.ast_unary = {\n    type: exports.dataType['10'],\n    operator: '+',\n    value: undefined\n};\n// 二元运算符\nexports.ast_binary = {\n    type: exports.dataType['11'],\n    left: undefined,\n    operator: undefined,\n    right: undefined\n};\n// 逻辑运算符\nexports.ast_logical = {\n    type: exports.dataType['12'],\n    left: undefined,\n    operator: undefined,\n    right: undefined\n};\n// 三元运算符\nexports.ast_teranry = {\n    type: exports.dataType['13'],\n    boolean_expression: undefined,\n    true_value: undefined,\n    error_value: undefined\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar $log = require(\"../../log\");\nvar moduleNames = {};\nvar Loader = /** @class */ (function () {\n    function Loader() {\n        this.modules = {\n            name: '',\n            requires: []\n        };\n    }\n    Loader.prototype.clear = function () {\n        this.modules = {};\n    };\n    /**\n     * 模块\n     * @param name 模块名称\n     * @param requires 模块的依赖项\n     * @param configFn 配置函数\n     */\n    Loader.prototype.module = function (name, requires, configFn) {\n        var modules = {};\n        if (requires) {\n            this.modules = this.$$set(name, requires, modules, configFn);\n        }\n        else {\n            this.modules = this.$$get(name, modules);\n        }\n        return this.modules;\n    };\n    /**\n     * 生成module\n     * @param name\n     * @param requires\n     * @param configFn\n     */\n    Loader.prototype.$$set = function (name, requires, modules, configFn) {\n        if (name == 'hasOwnProperty')\n            $log.error('hasOwnProperty不能用于键名');\n        var invokeQueue = [];\n        var configQueue = [];\n        /**\n         * 引用函数\n         * @param service 服务名称\n         * @param prefix data,provider\n         * @param arrProp 数组属性\n         * @param queue 引用队列\n         */\n        var invokeFn = function (service, prefix, arrProp, queue) {\n            if (arrProp === void 0) { arrProp = 'push'; }\n            if (queue === void 0) { queue = invokeQueue; }\n            return function () {\n                queue[arrProp]([service, prefix, arguments]);\n                return moduleObj;\n            };\n        };\n        var moduleObj = {\n            name: name,\n            requires: requires,\n            // data: (key, val)=>{\n            //     invokeQueue.unshift(['data', [key, val]]);\n            // },\n            // provider: (key, val)=>{\n            //     invokeQueue.push(['provider', [key, val]]);\n            // },\n            data: invokeFn('$provider', 'data', 'unshift'),\n            provider: invokeFn('$provider', 'provider'),\n            factory: invokeFn('$provider', 'factory'),\n            value: invokeFn('$provider', 'value'),\n            service: invokeFn('$provider', 'service'),\n            config: invokeFn('$injector', 'invoke', 'push', configQueue),\n            run: function (fn) {\n                moduleObj._runQueue.push(fn);\n                return moduleObj;\n            },\n            pipe: invokeFn('$pipeProvider', 'register'),\n            // directive: invokeFn('$compileProvider', 'directive'),\n            _invokeQueue: invokeQueue,\n            _configQueue: configQueue,\n            _runQueue: []\n        };\n        if (configFn) {\n            moduleObj.config(configFn);\n        }\n        this.modules = moduleNames[name] = moduleObj;\n        return moduleObj;\n    };\n    /**\n     * 根据name获取module\n     * @param name\n     * @param modules\n     */\n    Loader.prototype.$$get = function (name, modules) {\n        if (moduleNames.hasOwnProperty(name)) {\n            return moduleNames[name];\n        }\n        $log.error('名称为' + name + '的module不存在！');\n    };\n    return Loader;\n}());\nexports.default = Loader;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar compile_1 = require(\"./compile\");\nexports.Component = compile_1.Component;\nvar Dom_1 = require(\"./Dom\");\nexports.Dom = Dom_1.default;\nvar store_1 = require(\"./store\");\nvar Store = new store_1.default('user');\nexports.Store = Store;\nvar cookie_1 = require(\"./cache/cookie\");\nexports.Cookie = cookie_1.default;\nexports.default = compile_1.default;\nwindow.Cpage = new compile_1.default();\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar $log = require(\"../log\");\nvar util_1 = require(\"../util\");\nvar render_1 = require(\"./render\");\nvar componentGuard_1 = require(\"./componentGuard\");\nvar store_1 = require(\"../store\");\nvar store = new store_1.default();\nstore.data('componentList', []);\nstore.service('component', function () {\n    this.ensureOneInvokeComponent = function (name, arr) {\n        var res = {\n            type: 'yes'\n        }, rootName = [], names = [];\n        for (var i = 0; i < arr.length; i++) {\n            if (arr[i].name == name)\n                rootName.push(name);\n            names.push(arr[i].name);\n        }\n        if (rootName.length >= 2)\n            res = {\n                type: 'no',\n                info: '只能有一个根组件，却发现' + rootName.length + '个' + name + '根组件'\n            };\n        return res;\n    };\n});\nvar CPage = /** @class */ (function () {\n    function CPage() {\n        this.CList = [];\n        this.id = 0;\n        this.id = 0;\n    }\n    /**\n     * es6模式，渲染组件\n     * @param selector id选择符，如果是class，则取第一个节点\n     * @param fn 根组件函数\n     */\n    CPage.bootstrap = function (selector, fn) {\n        var rootComponent = {};\n        function componetList(fn, isRoot) {\n            if (isRoot === void 0) { isRoot = false; }\n            var classToJson = util_1.default.classToJson(fn, isRoot);\n            var componentJson = classToJson.componentJson;\n            if (isRoot) {\n                rootComponent = classToJson.rootComponent;\n            }\n            componentGuard_1.default(componentJson);\n            store.data('componentList', store.get('componentList').push(componentJson));\n            if (componentJson.components && util_1.default.type(componentJson.components) == 'array' && componentJson.components.length) {\n                componentJson.components.forEach(function (v) {\n                    componetList(v);\n                });\n            }\n        }\n        componetList(fn, true);\n        var r = new render_1.default(selector, rootComponent, store.get('componentList'));\n        r.componentToDom();\n    };\n    /**\n     * 路由\n     * @param config 路由配置\n     */\n    CPage.router = function (config) {\n        function check(str) {\n            if (util_1.default.type(str) != 'array') {\n                $log.error('路由配置项需为数组形式');\n            }\n        }\n        check(config);\n        config.forEach(function (v) {\n            var classToJson = util_1.default.classToJson(v.component, false);\n            v.component = classToJson.componentJson;\n        });\n        store.data('routerConfig', config);\n    };\n    CPage.prototype.directive = function (name, fn) {\n        var conf = fn();\n        conf.id = this.id;\n        this.CList.push(conf);\n        this.id++;\n        var guard = store.get('component').ensureOneInvokeComponent(name, this.CList);\n        if (guard.type == 'no') {\n            $log.error(guard.info);\n        }\n        return conf;\n    };\n    /**\n     * es5模式获取组建信息\n     * @param obj\n     */\n    CPage.prototype.component = function (obj) {\n        componentGuard_1.default(obj);\n        var componentInfo = util_1.default.deepClone(obj);\n        Object.defineProperties(componentInfo, {\n            isRoot: {\n                value: false,\n                writable: true\n            },\n            $el: {\n                value: undefined,\n                writable: true\n            },\n            $props: {\n                value: {},\n                writable: true\n            }\n        });\n        return this.directive(obj.name, function () {\n            return componentInfo;\n        });\n    };\n    /**\n     * es5模式，将组件渲染到dom\n     * @param selector id选择符，如果是class，则取第一个节点\n     * @param root 根组件信息\n     */\n    CPage.prototype.bootstrap = function (selector, root) {\n        if (util_1.default.type(selector) != 'string') {\n            $log.error(selector + '应为字符串');\n        }\n        if (!document.querySelector(selector)) {\n            $log.error('节点“' + selector + '”不存在');\n        }\n        if (util_1.default.type(root) != 'object') {\n            $log.error(root + '应为json对象');\n        }\n        if (arguments.length == 2) {\n            componentGuard_1.default(root);\n            if (!root.name) {\n                $log.error('找不到根组件的name属性');\n            }\n            store.data('rootComponent', root.name);\n            var r = new render_1.default(selector, root, this.CList);\n            r.componentToDom();\n        }\n    };\n    CPage.version = require('../../package.json').version;\n    return CPage;\n}());\nexports.default = CPage;\n/**\n * es6模式构建组件\n */\nvar Component = /** @class */ (function () {\n    function Component() {\n        this.components = [];\n        this.name = '';\n        this.template = '';\n        this.data = {};\n        this.props = {};\n    }\n    Component.prototype.render = function () {\n        $log.error('render方法必须被继承');\n    };\n    return Component;\n}());\nexports.Component = Component;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar mixins_1 = require(\"../mixins\");\nvar handelType_1 = require(\"./handelType\");\nvar handelCoding_1 = require(\"./handelCoding\");\nvar $log = require(\"../log\");\nvar util = /** @class */ (function () {\n    function util() {\n    }\n    /**\n     * 判断两个变量是否相等，只能匹配简单的数据类型\n     * @param str1\n     * @param str2\n     * @returns {boolean}\n     */\n    util.prototype.isEqual = function (str1, str2) {\n        return JSON.stringify(str1) === JSON.stringify(str2);\n    };\n    /**\n     * 判断两个变量是否相等\n     * @param newVal\n     * @param oldVal\n     * @param equalStatus 为TRUE,则深层次比较\n     */\n    util.prototype.areEqual = function (newVal, oldVal, equalStatus) {\n        if (equalStatus) {\n            return this.compare(newVal, oldVal);\n        }\n        else {\n            // return (newVal === oldVal) && (typeof newVal == 'number' && typeof oldVal == 'number' && !isNaN(newVal) && !isNaN(oldVal)) && (newVal != NaN && oldVal != NaN);\n            if (newVal.toString() == 'NaN') {\n                return true;\n            }\n            else {\n                return newVal === oldVal;\n            }\n        }\n    };\n    /**\n     * 判断两个变量是否相等, 此方法用于相同数据类型的变量比较\n     * @param a\n     * @param b\n     * @returns {boolean}\n     */\n    util.prototype.compare = function (a, b) {\n        var pt = /undefined|number|string|boolean/, fn = /^(function\\s*)(\\w*\\b)/, cr = \"constructor\", cn = \"childNodes\", pn = \"parentNode\";\n        if (pt.test(typeof a) || pt.test(typeof b) || a === null || b === null) {\n            return a === b || (isNaN(a) && isNaN(b)); //为了方便，此处假定NaN == NaN\n        }\n        if (a[cr] !== b[cr]) {\n            return false;\n        }\n        switch (a[cr]) {\n            case Date:\n                return a.valueOf() === b.valueOf();\n            case Function:\n                return a.toString().replace(fn, '$1') === b.toString().replace(fn, '$1'); //硬编码中声明函数的方式会影响到toString的结果，因此用正则进行格式化\n            case Array:\n                if (a.length !== b.length) {\n                    return false;\n                }\n                for (var i = 0; i < a.length; i++) {\n                    // if(!ce(a[i],b[i])){\n                    // \treturn false;\n                    // }\n                    if (a[i].toString() == b[i].toString()) { }\n                }\n                break;\n            default:\n                var alen = 0, blen = 0, d = void 0;\n                if (a === b) {\n                    return true;\n                }\n                if (a[cn] || a[pn] || b[cn] || b[pn]) {\n                    return a === b;\n                }\n                for (d in a) {\n                    alen++;\n                }\n                for (d in b) {\n                    blen++;\n                }\n                if (alen !== blen) {\n                    return false;\n                }\n                for (d in a) {\n                    if (a[d].toString() != b[d].toString()) {\n                        return false;\n                    }\n                }\n                break;\n        }\n        return true;\n    };\n    /**\n     * 浅拷贝，才方法只针对普通对象{}和数组[]\n     * @param str\n     * @returns {any}\n     */\n    util.prototype.clone = function (str) {\n        return JSON.parse(JSON.stringify(str));\n    };\n    util.prototype.deepClone = function (data) {\n        var t = this.type(data), o, i, ni;\n        if (t === 'array') {\n            o = [];\n        }\n        else if (t === 'object') {\n            o = {};\n        }\n        else {\n            return data;\n        }\n        if (t === 'array') {\n            for (i = 0, ni = data.length; i < ni; i++) {\n                o.push(this.deepClone(data[i]));\n            }\n            return o;\n        }\n        else if (t === 'object') {\n            for (i in data) {\n                o[i] = this.deepClone(data[i]);\n            }\n            return o;\n        }\n    };\n    /**\n     * 字符串或函数的执行次数\n     * @param obj:类型为Function, String\n     */\n    util.prototype.repeatObj = function (obj, manyTime) {\n        if (this.type(manyTime) != 'number') {\n            $log.error('函数repeat的参数manyTime类型为number');\n        }\n        switch (this.type(obj)) {\n            case 'string':\n                return obj.repeat(manyTime);\n            case 'function':\n                var arr = new Array(manyTime);\n                for (var i = 0; i < arr.length; i++) {\n                    obj();\n                }\n                break;\n            default:\n                return null;\n        }\n    };\n    /**\n     * 对每个scope的children进行遍历\n     * @param cb\n     * @param scope\n     * @returns {boolean}\n     */\n    util.prototype.everyScope = function (cb, scope) {\n        if (cb(scope)) {\n            return scope.$children.every(function (child) {\n                return child.everyScope(cb, scope);\n            });\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * 处理scope的event事件\n     * @param eventName\n     * @param arr\n     * @param scope\n     */\n    util.prototype.handelEvent = function (eventName, arr, scope) {\n        // if(arr[eventName] == undefined){\n        // \t$log.error('事件'+eventName+'不存在');\n        // }\n        // const event = {name: eventName};\n        var listener = arr[eventName] || function () { };\n        try {\n            listener(scope);\n        }\n        catch (e) {\n            $log.error(e);\n        }\n    };\n    /**\n     * 对象转map对象\n     * @param obj\n     * @returns {Map}\n     */\n    util.prototype.objToMap = function (obj) {\n        if (this.type(obj) != 'object')\n            return;\n        var map = new Map();\n        for (var i in obj) {\n            map.set(i, obj[i]);\n        }\n        return map;\n    };\n    /**\n     * map对象转普通对象\n     * @param map\n     * @returns {{}}\n     */\n    util.prototype.mapToObj = function (map) {\n        if (this.type(map) != 'map')\n            return;\n        var obj = {};\n        map.forEach(function (val, key) {\n            obj[key] = val;\n        });\n        return obj;\n    };\n    /**\n     * 此方法用于获取首位不写0浮点数的下一位字符\n     * @param index\n     * @param str\n     * @returns {string|boolean}\n     */\n    util.prototype.nextLeter = function (index, str) {\n        return (index < str.length - 1) ? str.charAt(index + 1) : false;\n    };\n    /**\n     * 将string类型的数据外层包装\\\n     * @param str\n     * @returns {any}\n     */\n    util.prototype.wrapString = function (str) {\n        if (this.type(str) == 'string') {\n            return '\\'' + str + '\\'';\n        }\n        else if (this.type(str) == 'null') {\n            return 'null';\n        }\n        else {\n            return str;\n        }\n    };\n    /**\n     * 判断数组第一个元素是否与有某个元素相等，如果是则将其移除\n     * @param str\n     * @param arr\n     * @returns {any[]}\n     */\n    util.prototype.expect = function (arr) {\n        var str = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            str[_i - 1] = arguments[_i];\n        }\n        var that = this;\n        function es(val) {\n            return that.exitFirst(arr, val);\n        }\n        // console.log(str);\n        if (str.some(es)) {\n            return arr.shift();\n        }\n        // if(this.exitFirst(arr, str)) return arr.shift();\n    };\n    /**\n     * 在expect函数基础上，如果目标元素不匹配报错\n     * @param str\n     * @param arr\n     * @returns {any}\n     */\n    util.prototype.consume = function (arr, str) {\n        var t = this.expect(arr, str);\n        if (!t)\n            $log.error('词法解析错误' + str);\n        return t;\n    };\n    /**\n     * 判断数组第一个元素是否与有某个元素相等，相等则返回首个数组首个元素\n     * @param str\n     * @param arr\n     * @returns {number}\n     */\n    util.prototype.exit = function (str, arr) {\n        if (this.type(arr) != 'array')\n            return;\n        if (!arr.length)\n            return;\n        for (var i = 0; i < arr.length; i++) {\n            if (str == arr[i]['text']) {\n                return i;\n            }\n        }\n    };\n    /**\n     * 只针对对象的第一个元素\n     * @param arr\n     * @param str\n     * @returns {any}\n     */\n    util.prototype.exitFirst = function (arr, str) {\n        if (this.type(arr) != 'array')\n            return;\n        if (!arr.length)\n            return;\n        if (!str || (str == arr[0]['text'])) {\n            return arr[0];\n        }\n    };\n    /**\n     * 数组去重，针对普通类型的数组\n     * @param arr\n     * @returns {Array}\n     */\n    util.prototype.uArray = function (arr) {\n        var newArr = [];\n        var set = new Set(arr);\n        set.forEach(function (val) {\n            newArr.push(val);\n        });\n        return newArr;\n    };\n    /**\n     * 获取数组中某个元素的下标，返回结果维数组\n     * @param data\n     * @param array\n     * @returns {any}\n     */\n    util.prototype.arrayItem = function (data, array) {\n        if (this.type(array) != 'array')\n            return;\n        var item = [];\n        for (var i = 0; i < array.length; i++) {\n            if (array[i].toString() === data.toString())\n                item.push(i);\n        }\n        // console.log(item,array);\n        return item;\n    };\n    /**\n     * 获取数组中某个对象元素的下标\n     */\n    util.prototype.arrayItem2 = function (data, array) {\n        if (this.type(array) != 'array')\n            return;\n        var item;\n        for (var i = 0; i < array.length; i++) {\n            if (array[i]['name'] === data)\n                item = i;\n        }\n        return item;\n    };\n    /**\n     * 获取数组中某个重复元素的最后下标\n     */\n    util.prototype.arrayLastItem = function (data, array) {\n        if (this.type(array) != 'array')\n            return;\n        var item;\n        array = array.reverse();\n        for (var i = 0; i < array.length; i++) {\n            if (array[i] === data)\n                item = i;\n        }\n        return item;\n    };\n    /**\n     * 去除数组中的重复元素\n     * @param data\n     * @param array\n     * @returns {Array}\n     */\n    util.prototype.arraySplice = function (data, array) {\n        if (this.type(array) != 'array')\n            return;\n        var arr = this.arrayItem(data, array);\n        for (var i = 0; i < arr.length; i++) {\n            array.splice(arr[i], 1);\n        }\n        return array;\n    };\n    /**\n     * 去除数组中的'',null,undefined\n     */\n    util.prototype.arrayCompact = function (arr) {\n        var newArr = [];\n        arr.forEach(function (v) {\n            if (v != '' && v != null && v != undefined)\n                newArr.push(v);\n        });\n        return newArr;\n    };\n    /**\n     * 获取两个数组的交集\n     * @param a\n     * @param b\n     */\n    util.prototype.intersection = function (a, b) {\n        return a.filter(function (v) { return b.includes(v); });\n    };\n    /**\n     * 对字符串进行解析\n     * @param str\n     * @returns {Function}\n     */\n    util.prototype.parseString = function (str) {\n        if (this.type(str) != 'string')\n            return;\n        return new Function(\"return \" + str);\n    };\n    /**\n     * 用于判断对象是否含有某个属性,并返回与表达式 ‘scope’ && （\\‘a\\’ in 'scope'）\n     * @param obj\n     * @param ele\n     * @returns {any}\n     */\n    util.prototype.hasProperty = function (obj, ele) {\n        return obj + ' && (' + this.wrapString(ele) + ' in ' + obj + ')';\n    };\n    /**\n     * 判断所传字符串与目标字符串是否相等\n     * @param target\n     * @param str\n     * @returns {any}\n     */\n    util.prototype.inStr = function (target, str) {\n        return str.includes(target);\n    };\n    /**\n     * 获取对象的键\n     * @param obj\n     */\n    util.prototype.objKey = function (obj) {\n        var arr = [];\n        for (var i in obj) {\n            arr.push(i);\n        }\n        return arr;\n    };\n    /**\n     * 获取对象的值\n     * @param obj\n     */\n    util.prototype.objVal = function (obj) {\n        var arr = [];\n        for (var i in obj) {\n            arr.push(obj[i]);\n        }\n        return arr;\n    };\n    /**\n     * 判断对象是否为空\n     * @param obj 对象\n     */\n    util.prototype.isEmpty = function (obj) {\n        if (this.type(obj) != 'object')\n            return;\n        if (JSON.stringify(obj) == '{}')\n            return true;\n        return false;\n    };\n    /**\n     * 移除对象中某些元素\n     * @param obj 对象\n     * @param ...str  需要移除的元素\n     */\n    util.prototype.expectSome = function (obj) {\n        var str = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            str[_i - 1] = arguments[_i];\n        }\n        var newObj = this.clone(obj);\n        str.forEach(function (v) {\n            delete newObj[v];\n        });\n        return newObj;\n    };\n    /**\n     * x-a转驼峰xA\n     * @param str\n     */\n    util.prototype.cameCase = function (str) {\n        return str.replace(/\\-(\\w)/g, function (x) { return x.slice(1).toUpperCase(); });\n    };\n    /**\n     * 驼峰xA转x-a\n     * @param str\n     */\n    util.prototype._cameCase = function (str) {\n        return str.replace(/([A-Z])/g, \"-$1\");\n    };\n    /**\n     * 合并对象\n     * @param target\n     * @param source\n     */\n    util.prototype.extend = function (target, source) {\n        for (var i in source) {\n            target[i] = source[i];\n        }\n        return target;\n    };\n    /**\n     * 去除空格 回车 换行\n     * @param str\n     */\n    util.prototype.trimStr = function (str) {\n        var res = str.trim();\n        res = res.replace(/\\s+/g, '');\n        res = res.replace(/[\\r\\n]/g, '');\n        return res;\n    };\n    /**\n     * 获取当前时间 20170516\n     */\n    util.prototype.now = function () {\n        var date = new Date(), year = date.getFullYear().toString(), month = (date.getMonth() + 1).toString(), day = date.getDate().toString();\n        month = parseInt(month) < 10 ? '0' + month : month;\n        return year + month + day + '0';\n    };\n    util.prototype.page = function () {\n        return {\n            width: window.innerWidth,\n            height: window.innerHeight\n        };\n    };\n    /**\n     * 将class转换为json\n     * @param fn class函数\n     * @param isRoot 是否为根组件\n     */\n    util.prototype.classToJson = function (fn, isRoot) {\n        if (isRoot === void 0) { isRoot = false; }\n        var app;\n        var rootComponent = {};\n        if (fn) {\n            app = new fn();\n        }\n        else {\n            $log.error('函数' + fn + '未找到');\n        }\n        var obj = Object.create(app);\n        var propertyObj = obj.__proto__;\n        var prototypeObj = obj.__proto__.__proto__;\n        var arr = Object.entries(propertyObj).concat(Object.entries(prototypeObj).slice(1));\n        var protoNames = Object.getOwnPropertyNames(prototypeObj);\n        var componentJson = {};\n        for (var i = 1; i < protoNames.length; i++) {\n            componentJson[protoNames[i]] = prototypeObj[protoNames[i]];\n        }\n        arr.forEach(function (v, i) {\n            componentJson[v[0]] = v[1];\n            if (isRoot) {\n                rootComponent[v[0]] = v[1];\n            }\n        });\n        return {\n            componentJson: componentJson, rootComponent: rootComponent\n        };\n    };\n    /**\n     * 延迟加载\n     * @param delay 延迟时间\n     */\n    util.prototype.sleep = function (delay) {\n        if (delay === void 0) { delay = 0; }\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, new Promise(function (resolve) { return setTimeout(resolve, delay); })];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * 判断元素是否为null或者undefined\n     * @param ele\n     */\n    util.prototype.isNil = function (ele) {\n        return ele === undefined || ele === null;\n    };\n    return util;\n}());\nexports.util = util;\nmixins_1.applyMixins(util, [handelType_1.default, handelCoding_1.default]);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar $log = require(\"../log\");\nvar HandelType = /** @class */ (function () {\n    function HandelType() {\n    }\n    /**\n   * 判断数据类型\n   * @param str\n   * @returns {any}\n   */\n    HandelType.prototype.type = function (str) {\n        var toString = Object.prototype.toString, map = {\n            '[object Boolean]': 'boolean',\n            '[object Number]': 'number',\n            '[object String]': 'string',\n            '[object Function]': 'function',\n            '[object Array]': 'array',\n            '[object Date]': 'date',\n            '[object RegExp]': 'regExp',\n            '[object Undefined]': 'undefined',\n            '[object Null]': 'null',\n            '[object Object]': 'object',\n            '[object Map]': 'map',\n            '[object Set]': 'set',\n            '[object Symbol]': 'symbol'\n        };\n        return map[toString.call(str)];\n    };\n    /**\n   * 判断输入的内容是否在0~9之间\n   * @param str\n   * @returns {boolean}\n   */\n    HandelType.prototype.isNumber = function (str) {\n        // if(Number(str).toString() != 'NaN') return true;\n        // else return false;\n        if (this.type(str) != 'string')\n            return false;\n        else\n            return str >= '0' && str <= '9';\n    };\n    /**\n     * 判断是否符合指数特征\n     * @param ch\n     * @returns {boolean|Boolean}\n     */\n    HandelType.prototype.isExponent = function (ch) {\n        return ch === '+' || ch === '-' || this.isNumber(ch);\n    };\n    /**\n     * 判断是否属于特定字符：字母，_, $\n     * @param str\n     * @returns {boolean}\n     */\n    HandelType.prototype.isLetter = function (str) {\n        var arr = str.split('');\n        return arr.every(function (i) {\n            return (i >= 'a' && i <= 'z') || (i >= 'A' && i <= 'Z') || (i === '_') || (i === '$');\n        });\n    };\n    /**\n     * 判断字符是否属于空格\n     * @param str\n     * @returns {boolean}\n     */\n    HandelType.prototype.isWhiteSpace = function (str) {\n        return str === ' ' || str === '\\r' || str === '\\t' || str === '\\n' || str === '\\v' || str === '\\u00A0';\n    };\n    /**\n     * 判断被解析的字符串属于那种数据类型\n     * @param str\n     * @returns {any}\n     */\n    HandelType.prototype.whichType = function (str) {\n        if (this.type(str) != 'string')\n            $log.error('数据类型错误' + str);\n        // '12', '12.12', '0.12e2'\n        if (this.isNumber(str) || str === '.')\n            return 'number';\n        // '\"abc\"'  \"'abc'\"\n        else if (str.charAt(0) === \"'\" || str.charAt(0) === '\"')\n            return 'string';\n        //字母，_, $\n        else if (this.isLetter(str))\n            return 'letter';\n        // '[\"a\",\"b\"]'\n        else if ((str === '[' || str === ']' || str === ','))\n            return 'array';\n        // '{}'\n        else if ((str === '{' || str === '}' || str === ':'))\n            return 'object';\n        // 'function'\n        else if (str === '(' || str === ')')\n            return 'function';\n        else\n            return 'other';\n    };\n    return HandelType;\n}());\nexports.default = HandelType;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar HandelCoding = /** @class */ (function () {\n    function HandelCoding() {\n    }\n    /**\n     * 组合对象属性语句，类似于a.b\n     * @param left\n     * @param right\n     * @returns {any}\n     */\n    HandelCoding.prototype.nonComputedMember = function (left, right) {\n        return '(' + left + ').' + right;\n    };\n    /**\n     *\n     * @param left\n     * @param right\n     * @returns {any}\n     */\n    HandelCoding.prototype.computedMember = function (left, right) {\n        return '(' + left + ')[' + right + ']';\n    };\n    /**\n     * 组合成条件不存在的语句 例如!(str)\n     * @param expression any\n     * @returns {any}\n     */\n    HandelCoding.prototype.notExist = function (expression) {\n        return '!(' + expression + ')';\n    };\n    /**\n     * 组合js表达式,例如组合成 var a = 123;\n     * @param token\n     * @param value\n     * @returns {any}\n     */\n    HandelCoding.prototype.concatCode = function (token, value) {\n        return token + '=' + value + ';';\n    };\n    /**\n    * 此方法用于模拟if语句，判断参数是否成立，并组装成if语句\n    * @param condition\n    * @param statement\n    */\n    HandelCoding.prototype.conditionIsRight = function (array, condition, statement) {\n        array.push('if(', condition, '){', statement, '}');\n    };\n    /**\n     * 该函数每次被调用，参数id递增\n     * @param id\n     * @return {string}\n     */\n    HandelCoding.prototype.compileId = function (id, arr, flag) {\n        var uid = 'compileId' + id;\n        if (!flag) {\n            arr.unshift(uid);\n        }\n        return uid;\n    };\n    return HandelCoding;\n}());\nexports.default = HandelCoding;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar $log = require(\"../log\");\nvar util_1 = require(\"../util\");\nvar dom_1 = require(\"../dom/dom\");\nvar parseTpl_1 = require(\"./parseTpl\");\nvar HandelData_1 = require(\"./HandelData\");\nvar HandelEventer_1 = require(\"../util/HandelEventer\");\nvar HandelEvent_1 = require(\"./HandelEvent\");\nvar index_1 = require(\"../parse/index\");\nvar http_1 = require(\"../http\");\nvar router_1 = require(\"../router\");\nvar store_1 = require(\"../store\");\nvar store = new store_1.default();\nvar isNil = util_1.default.isNil;\nvar PREFIX_DIRECTIVE = /(x[\\:\\-_]|data[\\:\\-_])/i;\nvar ID = 'c-data-id';\nvar ID_FOR = 'c-for-id';\nvar ID_REPEAT = 'c-repeat-id';\nvar renderComponents = /** @class */ (function () {\n    function renderComponents(selector, root, CList) {\n        this.selector = selector;\n        this.root = root;\n        this.CList = CList;\n        this.CObj = this.listToObj(CList);\n        this.eventList = [];\n        this.cRefList = [];\n        this.cShowList = [];\n        this.cIfList = [];\n        this.ifTpl = {};\n        this.cHtmlList = [];\n        this.cForList = [];\n        this.cRepeatList = [];\n        this.cViewList = [];\n        this.dataId = parseInt(util_1.default.now());\n        this.componentToken = [];\n        this.componentNames = this.getComponentNameList();\n        this.componentAttrs = {};\n        this.templateId = {};\n        this.oneRootComponent = 1;\n        this.$router = undefined;\n        this.$routerCache = {};\n    }\n    /**\n     * 组件渲染到dom节点\n     */\n    renderComponents.prototype.componentToDom = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            function handelComponent() {\n                return __awaiter(this, void 0, void 0, function () {\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0: return [4 /*yield*/, invokeLooopNodes()];\n                            case 1:\n                                _a.sent();\n                                return [4 /*yield*/, invokeLoopComponents()];\n                            case 2:\n                                _a.sent();\n                                return [4 /*yield*/, invokeRouter()];\n                            case 3:\n                                _a.sent();\n                                return [2 /*return*/];\n                        }\n                    });\n                });\n            }\n            // 遍历节点\n            function invokeLooopNodes() {\n                node = self.loopNodes(self.root.name, dom_1.default.create(rootTpl), components);\n            }\n            // 遍历组件\n            function invokeLoopComponents() {\n                self.root.template = node[0].outerHTML;\n                self.root.isRoot = true;\n                self.templateId[node[0].getAttribute(ID)] = node[0].outerHTML;\n                self.loopComponents(components, self.root.data, self.root.components, self.root.name);\n            }\n            // 处理路由\n            function invokeRouter() {\n                if (store.has('routerConfig')) {\n                    handelRouter();\n                }\n                function handelRouter() {\n                    setTimeout(function () {\n                        if (window.document.readyState == \"complete\") {\n                            var hash = window.location.hash;\n                            if (hash == '') { // 处理默认首页， path=\"/\"\n                                var index = pathIndex();\n                                if (util_1.default.type(index) == 'object') {\n                                    handelView(index);\n                                }\n                            }\n                            else {\n                                var r = getNowRouter(hash.substr(1));\n                                if (r != undefined) {\n                                    handelView(r);\n                                }\n                            }\n                        }\n                        window.addEventListener('hashchange', function (data) {\n                            var nowPath = '';\n                            if (data.newURL.includes('/#')) {\n                                nowPath = data.newURL.split('/#')[1];\n                            }\n                            var r = getNowRouter(nowPath);\n                            if (!isNil(r)) {\n                                handelView(r);\n                            }\n                        }, false);\n                        function handelView(obj) {\n                            var name = obj.component.name;\n                            var delay = obj.delay || 0;\n                            setTimeout(function () {\n                                self.cViewList.forEach(function (v) {\n                                    if (!dom_1.default.q(v.ele))\n                                        return;\n                                    if (obj.cache && self.$routerCache.hasOwnProperty(name)) {\n                                        dom_1.default.q(v.ele).innerHTML = self.$routerCache[name];\n                                        self.handelEventListener(self.CObj[name], dom_1.default.q(v.ele).firstChild);\n                                    }\n                                    else {\n                                        dom_1.default.q(v.ele).innerHTML = '';\n                                        dom_1.default.q(v.ele).insertAdjacentHTML('afterbegin', '<' + util_1.default._cameCase(name) + '></' + util_1.default._cameCase(name) + '>');\n                                        self.loopNodes(name, dom_1.default.q(v.ele).childNodes, []);\n                                        self.loopComponents([self.CObj[name]], self.CObj[v.which].data || {}, [], v.which);\n                                        setTimeout(function () {\n                                            self.$routerCache[name] = dom_1.default.q(util_1.default._cameCase(name)).outerHTML;\n                                        }, 0);\n                                    }\n                                });\n                            }, delay);\n                        }\n                    }, 0);\n                }\n            }\n            // 获取当前路由\n            function getNowRouter(path) {\n                var router = new router_1.default(path, store.get('routerConfig'));\n                self.$router = router;\n                return router.nowRouter;\n            }\n            // 默认路径\n            function pathIndex() {\n                var obj = undefined;\n                store.get('routerConfig').forEach(function (v) {\n                    if (v.path == '/') {\n                        obj = v;\n                    }\n                });\n                return obj;\n            }\n            var self, node, components, rootTpl;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        self = this, components = [], rootTpl = dom_1.default.wrapDom(this.theTpl(this.root), util_1.default._cameCase(this.root.name).toLowerCase());\n                        return [4 /*yield*/, handelComponent()];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * 组件的template, templateId, templateUrl\n     * @param component 组件\n     */\n    renderComponents.prototype.theTpl = function (component) {\n        // hasHtmlUrl, webpack打包需要引入html-loader\n        return (component.template ? component.template.trim() : undefined) || dom_1.default.hasHtml(component.templateId) || dom_1.default.hasHtmlUrl(component.templateUrl);\n    };\n    /**\n     * 组件的style, styleId, styleUrl\n     * @param component 组件\n     */\n    renderComponents.prototype.theStyle = function (component) {\n        // component.style\n        function handelString(str) {\n            if (str != undefined) {\n                return {\n                    type: 'string',\n                    result: str\n                };\n            }\n            return false;\n        }\n        // component.styleId\n        function handelId(id) {\n            if (!isNil(dom_1.default.q(id))) {\n                return {\n                    type: 'id',\n                    result: id\n                };\n            }\n            return false;\n        }\n        // component.styleUrl, webpack打包需要引入css-loader\n        function handelUrl(url) {\n            if (url != undefined) {\n                // 针对import * as css from '';\n                if (util_1.default.type(url) === 'object') {\n                    url = url[0][1];\n                }\n                // 针对require('../xx.css')\n                if (util_1.default.type(url) === 'array') {\n                    url = url[1];\n                }\n                return {\n                    type: 'url',\n                    result: url\n                };\n            }\n            return false;\n        }\n        return handelString(component.style) || handelId(component.styleId) || handelUrl(component.styleUrl);\n    };\n    /**\n     * 遍历dom节点\n     * @param name 组件名称\n     * @param node dom节点\n     * @param components 组件列表\n     */\n    renderComponents.prototype.loopNodes = function (name, node, components) {\n        var _this = this;\n        for (var i = 0; i < node.length; i++) {\n            if (node[i] && node[i].nodeType === 1) {\n                node[i].setAttribute(\"c-data-id\", this.dataId);\n                var cs = this.getComponent(node[i], name);\n                cs.forEach(function (v) {\n                    if (components) {\n                        components.push(util_1.default.deepClone(util_1.default.extend(_this.CObj[v], { token: _this.dataId })));\n                        // components.push(Util.extend(this.CObj[v], {token: this.dataId}));\n                    }\n                });\n                this.dataId++;\n                // 添加eventList, cShowList...等集合\n                this.addDirectiveList(name, node[i]);\n                if (node[i].childNodes && node[i].childNodes.length) {\n                    this.loopNodes(name, node[i].childNodes, components);\n                }\n            }\n        }\n        return node;\n    };\n    /**\n     * 添加eventList, cShowList...等集合\n     * @param name 组件名称\n     * @param node 节点\n     */\n    renderComponents.prototype.addDirectiveList = function (name, node) {\n        for (var j = 0, len = node.attributes; j < len.length; j++) {\n            var attrName = this.normalizeDirective(len[j].name);\n            if (attrName.match(/^cClick|cDbclick|cMouseover|cMousedown|cMouseup|cMousemove|cMouseout|cMouseleave|cBlur|cFocus|cChange|cInput|cDrag|cDragend|cDragenter|cDragleave|cDragover|cDragstart|cDrop|cFocus|cKeydown|cKeypress|cKeyup|cScroll|cSelect|cSubmit|cTtoggle|cResize|cWaiting|cProgress|cLoadstart|cDurationchange|cLoadedmetadata|cLoadeddata|cCanplay|cCanplaythrough|cPlay|cPause|cRef|cShow|cIf|cHtml|cFor|cRepeat|cView$/g)) {\n                switch (attrName) {\n                    case 'cRef':\n                        this.cRefList.push({\n                            which: name,\n                            type: len[j].name.split('-')[1],\n                            fn: len[j].value,\n                            ele: '[' + ID + '=\"' + node.getAttribute(ID) + '\"]',\n                            id: node.getAttribute(ID)\n                        });\n                        break;\n                    case 'cShow':\n                        this.cShowList.push({\n                            which: name,\n                            type: len[j].name.split('-')[1],\n                            fn: len[j].value,\n                            ele: '[' + ID + '=\"' + node.getAttribute(ID) + '\"]',\n                            id: node.getAttribute(ID),\n                            directive: attrName\n                        });\n                        // 在组件渲染前面处理display\n                        var displayStatus = dom_1.default.boolToDisplay(parseTpl_1.default(len[j].value, this.CObj[name].data, this.CObj[name].props));\n                        node.style.display = displayStatus;\n                        break;\n                    case 'cIf':\n                        this.cIfList.push({\n                            which: name,\n                            type: len[j].name.split('-')[1],\n                            fn: len[j].value,\n                            ele: '[' + ID + '=\"' + node.getAttribute(ID) + '\"]',\n                            id: node.getAttribute(ID),\n                            directive: attrName,\n                            html: node.outerHTML\n                        });\n                        var ifInfo = parseTpl_1.default(len[j].value, this.CObj[name].data, this.CObj[name].props);\n                        if (ifInfo == 'true') {\n                            node.style.display = 'none';\n                        }\n                        break;\n                    case 'cHtml':\n                        this.cHtmlList.push({\n                            which: name,\n                            type: len[j].name.split('-')[1],\n                            fn: len[j].value,\n                            ele: '[' + ID + '=\"' + node.getAttribute(ID) + '\"]',\n                            id: node.getAttribute(ID),\n                            directive: attrName,\n                            html: node.outerHTML\n                        });\n                        break;\n                    case 'cFor':\n                        this.cForList.push({\n                            which: name,\n                            type: len[j].name.split('-')[1],\n                            fn: len[j].value,\n                            ele: '[' + ID + '=\"' + node.getAttribute(ID) + '\"]',\n                            id: node.getAttribute(ID),\n                            html: node.innerHTML\n                        });\n                        break;\n                    case 'cRepeat':\n                        this.cRepeatList.push({\n                            which: name,\n                            type: len[j].name.split('-')[1],\n                            fn: len[j].value,\n                            ele: '[' + ID + '=\"' + node.getAttribute(ID) + '\"]',\n                            id: node.getAttribute(ID)\n                        });\n                        break;\n                    case 'cView':\n                        this.cViewList.push({\n                            which: name,\n                            type: len[j].name.split('-')[1],\n                            fn: len[j].value,\n                            ele: '[' + ID + '=\"' + node.getAttribute(ID) + '\"]',\n                            id: node.getAttribute(ID)\n                        });\n                        break;\n                    default:\n                        this.eventList.push({\n                            which: name,\n                            type: len[j].name.split('-')[1],\n                            fn: len[j].value,\n                            ele: '[' + ID + '=\"' + node.getAttribute(ID) + '\"]',\n                            id: node.getAttribute(ID)\n                        });\n                        break;\n                }\n            }\n        }\n    };\n    /**\n     * 遍历组件\n     * @param components 模板中的组件集合\n     * @param fatherData 父组件data数据\n     * @param componentArr 注入的组件集合\n     * @param componentName 父组件名称\n     */\n    renderComponents.prototype.loopComponents = function (components, fatherData, componentArr, componentName) {\n        var _this = this;\n        if (components.length && componentArr === undefined) {\n            $log.error('找不到组件为' + componentName + '的components属性');\n        }\n        var self = this;\n        components.forEach(function (v) { return __awaiter(_this, void 0, void 0, function () {\n            function handelCC() {\n                return __awaiter(this, void 0, void 0, function () {\n                    var before;\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0: return [4 /*yield*/, self.handelDataChange(v)];\n                            case 1:\n                                _a.sent(); // 监听data数据改变\n                                return [4 /*yield*/, self.handelBeforeRender(v)];\n                            case 2:\n                                before = _a.sent();\n                                return [4 /*yield*/, self.handelAfterRender(before, v)];\n                            case 3:\n                                _a.sent(); //在组件渲染之后执行\n                                return [2 /*return*/];\n                        }\n                    });\n                });\n            }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (v === undefined)\n                            return [2 /*return*/];\n                        // “模板中的组件” 与 “注入的组件” 对比\n                        this.compareChildComponentAndInjectComponents(v.name, componentArr);\n                        // 给组件赋能\n                        v.$data = HandelData_1.default.$data;\n                        v.$http = http_1.default;\n                        v.$event = HandelEvent_1.default;\n                        v.$router = self.$router;\n                        return [4 /*yield*/, handelCC()];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        }); });\n    };\n    /**\n     * 在组建渲染之前执行\n     * @param v 组件\n     */\n    renderComponents.prototype.handelBeforeRender = function (v) {\n        if (v.beforeRender) {\n            v.$el = undefined;\n            v.$refs = undefined;\n            v.componentStatus = 'beforeRender';\n            v.beforeRender();\n        }\n        return 'beforeRenderIsDone';\n    };\n    /**\n     * 在组件渲染之后执行\n     * @param status handelBeforeRender()的返回值\n     * @param v 组件\n     */\n    renderComponents.prototype.handelAfterRender = function (status, v) {\n        return __awaiter(this, void 0, void 0, function () {\n            function invokeAfterRender() {\n                return __awaiter(this, void 0, void 0, function () {\n                    var step1, step2, step3, step4, step5, step6;\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0: return [4 /*yield*/, addStyle()];\n                            case 1:\n                                step1 = _a.sent();\n                                return [4 /*yield*/, renderOnce(step1)];\n                            case 2:\n                                step2 = _a.sent();\n                                return [4 /*yield*/, handelCforDirective(step2)];\n                            case 3:\n                                step3 = _a.sent();\n                                return [4 /*yield*/, handelOtherDirective(step3)];\n                            case 4:\n                                step4 = _a.sent();\n                                return [4 /*yield*/, handelRenderFn(step4)];\n                            case 5:\n                                step5 = _a.sent();\n                                return [4 /*yield*/, loopChildComponent(step5)];\n                            case 6:\n                                step6 = _a.sent();\n                                return [4 /*yield*/, handelClickDirective(step6)];\n                            case 7:\n                                _a.sent();\n                                return [2 /*return*/];\n                        }\n                    });\n                });\n            }\n            function addStyle() {\n                // head添加style\n                dom_1.default.addStyle(self.theStyle(v), v);\n                return 'done';\n            }\n            function renderOnce(status) {\n                return __awaiter(this, void 0, void 0, function () {\n                    var node, dom, newNode, dataId, newProps;\n                    return __generator(this, function (_a) {\n                        if (status !== 'done') {\n                            return [2 /*return*/];\n                        }\n                        // 根组件单独渲染\n                        if (v.name === self.root.name) {\n                            if (self.oneRootComponent === 2) {\n                                $log.error('根组件' + self.root.name + '只能有一个');\n                            }\n                            dom = dom_1.default.q(self.selector);\n                            if (dom === undefined) {\n                                $log.error('节点' + self.selector + '不存在');\n                            }\n                            dom.innerHTML = parseTpl_1.default(self.theTpl(self.root), self.root.data, {});\n                            node = dom_1.default.q('[' + ID + '=\"' + v.token + '\"]');\n                            self.oneRootComponent++;\n                        }\n                        else {\n                            newNode = self.loopNodes(v.name, dom_1.default.create(self.theTpl(self.CObj[v.name])));\n                            dataId = dom_1.default.q(v.name) && parseInt(dom_1.default.q(v.name).getAttribute(ID));\n                            if (!v.token) {\n                                v.token = dataId;\n                            }\n                            node = dom_1.default.q('[' + ID + '=\"' + v.token + '\"]');\n                            if (v.token && !node) {\n                                node = dom_1.default.q('[' + ID + '=\"' + dataId + '\"]');\n                            }\n                            if (node) {\n                                self.templateId[v.token] = newNode[0].outerHTML;\n                                newProps = dom_1.default.combineAttrAndProps(self.componentAttrs[v.token], self.CObj[v.name].props);\n                                node.innerHTML = self.getChangedData(newNode[0].outerHTML, self.CObj[v.name].data, newProps);\n                            }\n                            else {\n                                console.log(v.name + '组件中token不存在', v);\n                            }\n                        }\n                        return [2 /*return*/, node];\n                    });\n                });\n            }\n            function handelCforDirective(node) {\n                // 处理c-for\n                self.loopCforToDom(self.cForList, v);\n                return node;\n            }\n            function handelOtherDirective(node) {\n                // 处理c-if\n                self.loopIfToDom(self.cIfList, v);\n                // 处理c-html\n                self.loopHtmlToDom(self.cHtmlList, v);\n                return node;\n            }\n            function handelRenderFn(node) {\n                v.$el = node;\n                // 处理c-ref\n                v.$refs = {};\n                var currentRefs = self.cRefList.filter(function (rfs) {\n                    return rfs.which == v.name;\n                });\n                currentRefs.forEach(function (r) {\n                    v.$refs[r.fn] = dom_1.default.q(r.ele);\n                });\n                v.componentStatus = 'afterRender';\n                v.render();\n                return node;\n            }\n            function loopChildComponent(node) {\n                // 遍历组件子节点\n                if (v.name !== self.root.name && node) {\n                    var arr = self.findComponent(node.firstChild);\n                    if (arr.length) {\n                        if (v.name) {\n                            // self.loopComponents(arr, v.data, Util.deepClone(v.components), v.name)\n                            self.loopComponents(arr, v.data, v.components, v.name);\n                        }\n                    }\n                }\n                return node;\n            }\n            function handelClickDirective(node) {\n                //绑定事件\n                self.handelEventListener(v, node);\n            }\n            var self;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (status != 'beforeRenderIsDone') {\n                            // return;\n                        }\n                        self = this;\n                        if (!v.render) return [3 /*break*/, 2];\n                        return [4 /*yield*/, invokeAfterRender()];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * “模板中的组件” 与 “注入的组件” 对比\n     * @param child 模板中的单个组件\n     * @param arr 注入的组件集合\n     */\n    renderComponents.prototype.compareChildComponentAndInjectComponents = function (child, arr) {\n        var self = this, flag = false;\n        if (child = this.root.name) { //判断是否为根组件\n            flag = true;\n        }\n        else if (!arr.length && child !== this.root.name) { //普通组件，有组件标识但components为空\n            flag = false;\n        }\n        else { //普通组件，有组件标识但components不为空\n            flag = arr.some(function (v) {\n                if (v.name) {\n                    return child !== self.root.name && child === v.name;\n                }\n            });\n        }\n        if (!flag)\n            $log.error('名称为' + child + '的组件未找到');\n    };\n    /**\n     * 组件渲染后的事件绑定\n     * @param v 组件对象\n     * @param node 节点\n     */\n    renderComponents.prototype.handelEventListener = function (v, node) {\n        // 获取当前组件的事件集合\n        var attrArr = dom_1.default.getAttr(ID, node);\n        var newAttrArr = this.array_intersection(attrArr, this.eventList);\n        // 事件绑定处理\n        if (newAttrArr.length) {\n            var arr = newAttrArr.filter(function (ev) {\n                return ev.which === v.name;\n            });\n            arr.forEach(function (val) {\n                var e_1, _a;\n                if (document.querySelectorAll(val.ele)) {\n                    try {\n                        try {\n                            for (var _b = __values(document.querySelectorAll(val.ele)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                                var dq = _c.value;\n                                dq.addEventListener(val.type, function (event) {\n                                    try {\n                                        // console.log(val.fn.toString().match(/\\(\\)$/))\n                                        // if(val.fn.toString().match(/\\(\\)$/)){\n                                        //     if(v.hasOwnProperty(val.fn.toString().split('()')[0])){\n                                        //         parse.parse(val.fn)(v, { $event: event });\n                                        //     }else{\n                                        //         $log.error('组件' + v.name + '中不存在方法'+val.fn);\n                                        //     }\n                                        // }else{\n                                        //     $log.error('组件' + v.name + '中方法'+val.fn+'语法错误');\n                                        // }\n                                        // console.log(val.fn, v);\n                                        index_1.default.parse(val.fn)(v, { $event: event });\n                                    }\n                                    catch (e) {\n                                        console.log('ee---', e);\n                                    }\n                                }, false);\n                            }\n                        }\n                        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                        finally {\n                            try {\n                                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                            }\n                            finally { if (e_1) throw e_1.error; }\n                        }\n                    }\n                    catch (e) {\n                        $log.error(e);\n                    }\n                }\n                else {\n                    $log.error('属性为' + val.ele + '的节点不存在！');\n                }\n            });\n        }\n    };\n    /**\n     * 监听data数据改变\n     * @param v 组件对象\n     */\n    renderComponents.prototype.handelDataChange = function (v, type) {\n        var _this = this;\n        var _loop_1 = function (i) {\n            HandelEventer_1.default.listen(i, function (info) {\n                if (info.target == v.token && JSON.stringify(info.oldVal) != JSON.stringify(info.newVal)) { //只处理当前组件的属性改变\n                    // 获取组件原始的tpl，将其转为dom\n                    var parseNode = dom_1.default.create(_this.templateId[v.token]);\n                    var dataPos = _this.dataPosition(i, parseNode, v.name);\n                    // 在dom渲染之前执行，更新data数据\n                    _this.updateData(i, info);\n                    if (dom_1.default.q(util_1.default._cameCase(v.name))) {\n                        // data数据改变重新渲染对象的节点\n                        _this.dataChangeToDom(parseNode, dataPos, info, v.name);\n                    }\n                }\n            });\n        };\n        for (var i in v.data) {\n            _loop_1(i);\n        }\n    };\n    /**\n     * 在dom渲染之前执行，更新data数据\n     * @param key data的key\n     * @param info 更改的信息\n     */\n    renderComponents.prototype.updateData = function (key, info) {\n        // 所属组件\n        var component = info.which;\n        this.CObj[component].data[key] = info.newVal;\n    };\n    /**\n     * data数据改变重新渲染对象的节点\n     * @param parseNode 原始的dom节点\n     * @param dataPos 改变的数据集合\n     * @param info data的变化信息\n     * @param component 所属组件\n     */\n    renderComponents.prototype.dataChangeToDom = function (parseNode, dataPos, info, component) {\n        // 文本类型\n        this.loopTextToDom(parseNode, dataPos, info, component);\n        // 属性类型\n        this.loopAttrToDom(dataPos, info, component);\n    };\n    /**\n     * 文本改变渲染对应的dom节点\n     * @param parseNode 编译的节点\n     * @param dataPos 改变的数据集合\n     * @param info data的变化信息\n     * @param component 所属组件\n     */\n    renderComponents.prototype.loopTextToDom = function (parseNode, dataPos, info, component) {\n        var textData = dataPos.filter(function (df) {\n            return df.type == 'text';\n        });\n        if (textData.length) {\n            textData.forEach(function (dp) {\n                var originNode = parseNode[0].parentNode.querySelector(dp.position).childNodes[dp.item].textContent;\n                if (document.querySelector(dp.position)) {\n                    document.querySelector(dp.position).childNodes[dp.item].textContent = parseTpl_1.default(originNode, info.new, info.props);\n                }\n            });\n        }\n    };\n    /**\n     * 属性改变渲染对应的dom节点\n     * @param dataPos 改变的数据集合\n     * @param info data的变化信息\n     * @param component 所属组件\n     */\n    renderComponents.prototype.loopAttrToDom = function (dataPos, info, component) {\n        var _this = this;\n        var self = this;\n        var attrData = dataPos.filter(function (df) {\n            return df.type === 'attr';\n        });\n        if (attrData.length) {\n            attrData.forEach(function (dp) {\n                // 处理指令\n                switch (dp.attr) {\n                    case 'c-show':\n                        var newAttr = dom_1.default.boolToDisplay(index_1.default.parse(dp.value)(info.new));\n                        dom_1.default.q(dp.position).style.display = newAttr;\n                        break;\n                    case 'c-if':\n                        var dom = dom_1.default.q(dp.position);\n                        if (!isNil(dom)) {\n                            dom_1.default.q(dp.position).setAttribute(dp.attr, info.newVal);\n                        }\n                        _this.handelIf(dp, _this.CObj[component]);\n                        break;\n                    case 'c-for':\n                        _this.loopCforToDom(dataPos, _this.CObj[component], 'dataChange');\n                        break;\n                    default:\n                        changeAttr(dp);\n                }\n                function changeAttr(dp) {\n                    dom_1.default.q(dp.position).setAttribute(dp.attr, info.newVal);\n                    // 更新componentAttrs\n                    self.componentAttrs[dp.componentToken][dp.attr] = info.newVal;\n                }\n                //父组件的属性改变\n                function handelComponent(dp) {\n                    var childChangePos = self.dataPosition(dp.attr, dom_1.default.create(self.templateId[dp.componentToken]), component);\n                    // 文本类型\n                    var childChangePosText = childChangePos.filter(function (df) {\n                        return df.type == 'text';\n                    });\n                    childChangePosText.forEach(function (chItem) {\n                        var changedComponent = self.CObj[dp.componentName], changedOriginComponentProps = changedComponent.props, changedComponentData = changedComponent.data, changedPropKey = dp.attr, changedPropVal = self.componentAttrs[dp.componentToken][dp.attr], changedComponentProps = self.combineChangedProps(changedPropKey, changedPropVal, changedOriginComponentProps);\n                        var changedOrginNode = dom_1.default.create(self.templateId[dp.componentToken]);\n                        var changedOrginText = changedOrginNode[0].parentNode.querySelector(chItem.position).childNodes[chItem.item].textContent;\n                        dom_1.default.q(chItem.position).childNodes[chItem.item].textContent = parseTpl_1.default(changedOrginText, changedComponentData, changedComponentProps);\n                    });\n                    // 属性类型\n                    var childChangePosAttr = childChangePos.filter(function (df) {\n                        return df.type == 'attr';\n                    });\n                    childChangePosAttr.forEach(function (chItem) {\n                        // 父组件的attr值与子组件的props值进行联动\n                        if (dp.attr === chItem.value) {\n                            chItem.value = dp.value;\n                        }\n                        dom_1.default.q(chItem.position).setAttribute(chItem.attr, chItem.value);\n                        // 更新componentAttrs\n                        self.componentAttrs[chItem.componentToken][chItem.attr] = chItem.value;\n                        self.componentAttrs[chItem.componentToken][chItem.attr] = chItem.value;\n                        if (chItem.isComponent) {\n                            handelComponent(chItem);\n                        }\n                    });\n                }\n                if (dp.isComponent) {\n                    handelComponent(dp);\n                }\n            });\n        }\n    };\n    /**\n     * 处理c-for指令\n     * @param arr c-for 集合\n     * @param component 指令所在组件\n     */\n    renderComponents.prototype.loopCforToDom = function (arr, component, reRender) {\n        var _this = this;\n        var currentRepeat = arr.filter(function (rVal) {\n            return rVal.which == component.name;\n        });\n        var self = this;\n        currentRepeat.forEach(function (re) {\n            // 解析指令，获取重复次数\n            var match2 = re.fn.match(/^\\s*([\\s\\S]+?)\\s+in\\s+([\\s\\S]+?)\\s*$/);\n            if (!match2) {\n                $log.error('c-for格式有误');\n            }\n            var itemExp = match2[1];\n            var itemsExp = match2[2];\n            var items = _this.inComponent(itemsExp, component);\n            if (items && util_1.default.type(items) === 'array' && items.length) {\n                if (reRender === 'dataChange') {\n                    dom_1.default.removeDomExpectWhich(0, '[c-for-id=\"' + dom_1.default.q(re.ele).getAttribute('c-for-id') + '\"]');\n                }\n                // 渲染单个有c-for指令的模板\n                items.forEach(function (item, i) {\n                    // 克隆节点，重复次数\n                    var newn = dom_1.default.q(re.ele).cloneNode(true);\n                    var data = {};\n                    data[match2[1]] = item;\n                    newn.innerHTML = parseTpl_1.default(re.html, data, self.CObj[component.name]['props'] || {});\n                    var newNode = self.loopNodes(component.name, dom_1.default.create(newn.outerHTML));\n                    var innerComponents = self.findComponent(newNode[0]);\n                    newNode[0].setAttribute('c-for-id', re.id);\n                    // 重新编译节点\n                    if (i === 0) {\n                        dom_1.default.q(re.ele).innerHTML = newNode[0].innerHTML;\n                        dom_1.default.q(re.ele).setAttribute('c-for-id', re.id);\n                    }\n                    else {\n                        var el = document.querySelectorAll('[c-for-id=\"' + re.id + '\"][c-for=\"' + re.fn + '\"]');\n                        el[el.length - 1].insertAdjacentElement('afterEnd', newNode[0]);\n                    }\n                    if (innerComponents.length) {\n                        self.loopComponents(util_1.default.deepClone(innerComponents), data, [], component.name);\n                    }\n                });\n            }\n            else {\n                $log.error('组件' + component.name + '内c-for指令的格式不正确');\n            }\n        });\n    };\n    /**\n     * 处理c-if指令\n     * @param arr c-if 集合\n     * @param component 指令所在组件\n     */\n    renderComponents.prototype.loopIfToDom = function (arr, component) {\n        var _this = this;\n        var currentIf = arr.filter(function (ifVal) {\n            return ifVal.which == component.name;\n        });\n        currentIf.forEach(function (cIf) {\n            _this.handelIf(cIf, component);\n        });\n    };\n    /**\n     * 移除c-if指令所在的节点\n     * @param cIf c-if指令所绑定的节点信息\n     */\n    renderComponents.prototype.handelIf = function (cIf, component) {\n        var ifDom = dom_1.default.q(cIf.ele || cIf.position);\n        // 节点存在，移除节点\n        if (!isNil(ifDom)) {\n            var ifInfo = ifDom.getAttribute('c-if');\n            if (ifInfo === 'true') {\n                ifDom.parentNode.replaceChild(dom_1.default.addComment('c-if:' + cIf.id + ''), ifDom);\n                this.ifTpl[cIf.id] = ifDom.outerHTML;\n            }\n        }\n        else { // 已经被移除，还原节点\n            dom_1.default.replaceComment(dom_1.default.q(util_1.default._cameCase(component.name)), cIf.attr + ':' + cIf.id, dom_1.default.create(this.ifTpl[cIf.id])[0]);\n            // 更改属性\n            dom_1.default.attr((cIf.ele || cIf.position), 'c-if', false);\n            dom_1.default.q(cIf.ele || cIf.position).style.display = 'block';\n        }\n    };\n    /**\n     * 处理c-html指令\n     * @param arr c-html指令集合\n     * @param component 所属组件\n     */\n    renderComponents.prototype.loopHtmlToDom = function (arr, component) {\n        var currentHtml = arr.filter(function (h) {\n            return h.which === component.name;\n        });\n        currentHtml.forEach(function (h) {\n            dom_1.default.q(h.ele).innerHTML = dom_1.default.attr(h.ele, 'c-html');\n        });\n    };\n    /**\n     * 组合经过改变的组件的props值\n     * @param key\n     * @param val\n     * @param props\n     */\n    renderComponents.prototype.combineChangedProps = function (key, val, props) {\n        if (props[key]) {\n            props[key]['default'] = val;\n        }\n        return props;\n    };\n    /**\n     * 数组去重\n     * @param a\n     * @param b\n     */\n    renderComponents.prototype.array_intersection = function (a, b) {\n        var result = [];\n        for (var i = 0; i < b.length; i++) {\n            var temp = b[i].id;\n            for (var j = 0; j < a.length; j++) {\n                if (temp === a[j]) {\n                    result.push(b[i]);\n                    break;\n                }\n            }\n        }\n        return result;\n    };\n    /**\n     * 判断dom节点是组件\n     * @param node dom节点\n     */\n    renderComponents.prototype.isComponent = function (node) {\n        var name = dom_1.default.parseName(node);\n        return this.CObj[name] != undefined;\n    };\n    /**\n     * 判断表达式内的字符是否在组件的data中\n     * @param name data属性名称\n     * @param expression '{{xxx}}'\n     * @returns 存在返回{{ }}内的表达式，否在返回null\n     */\n    renderComponents.prototype.isComponentData = function (name, expression) {\n        var regExp = new RegExp(\"{{\\\\s*([\\\\s\\\\S]*\" + name + \"[\\\\s\\\\S]*)\\\\s*}}\", \"gm\");\n        var res = regExp.exec(expression);\n        if (res === null) {\n            return null;\n        }\n        var exp = {\n            '': true,\n            '+': true,\n            '-': true,\n            '*': true,\n            '/': true,\n            '(': true,\n            ')': true,\n            '.': true,\n            '[': true,\n            ']': true,\n            '!': true,\n            '!=': true,\n            '!==': true,\n            '>': true,\n            '>=': true,\n            '>==': true,\n            '<': true,\n            '<=': true,\n            '<==': true,\n            '?': true,\n            ':': true\n        };\n        var nameIndex = res[1].indexOf(name), prev1 = res[1].charAt(nameIndex - 1), prev2 = res[1].charAt(nameIndex - 2), prev3 = res[1].charAt(nameIndex - 3), next1 = res[1].charAt(nameIndex + 1), next2 = res[1].charAt(nameIndex + 2), next3 = res[1].charAt(nameIndex + 3);\n        if (exp[prev1] || exp[prev2] || exp[prev3] || exp[next1] || exp[next2] || exp[next3]) {\n            return res[1];\n        }\n        return null;\n    };\n    /**\n     * 获取某个data属性名在节点中的位置\n     * @param name data属性名称\n     * @param node dom节点\n     * @param component 所属组件\n     */\n    renderComponents.prototype.dataPosition = function (name, node, component) {\n        var res = [], self = this;\n        // 属性\n        function loopAttr(node) {\n            if (typeof node === 'object' && node.length) {\n                for (var i = 0; i < node.length; i++) {\n                    if (node[i].nodeType === 1 && node[i].hasAttributes()) {\n                        for (var j = 0, len = node[i].attributes; j < len.length; j++) {\n                            if (len[j].name === 'c-for') {\n                                var match2 = len[j].value.match(/^\\s*([\\s\\S]+?)\\s+in\\s+([\\s\\S]+?)\\s*$/);\n                                if (!match2) {\n                                    $log.error('组件' + component + '内的c-for指令表达式' + len[j] + '有误');\n                                }\n                                if (match2[2] === name && !self.isComponent(node[i])) {\n                                    res = res.concat({\n                                        attr: len[j].name,\n                                        fn: len[j].value,\n                                        type: 'attr',\n                                        id: node[i].getAttribute(ID),\n                                        ele: '[' + ID + '=\"' + node[i].getAttribute(ID) + '\"]',\n                                        item: i,\n                                        isComponent: false,\n                                        html: node[i].innerHTML,\n                                        which: component //所属组件\n                                    });\n                                }\n                            }\n                            else {\n                                var attrVal = self.isComponentData(name, len[j].value);\n                                if (attrVal) {\n                                    var isCs = self.isComponent(node[i]);\n                                    if (isCs) {\n                                        res = res.concat({\n                                            attr: len[j].name,\n                                            value: name,\n                                            type: 'attr',\n                                            id: node[i].getAttribute(ID),\n                                            position: '[' + ID + '=\"' + node[i].getAttribute(ID) + '\"]',\n                                            item: i,\n                                            isComponent: true,\n                                            componentName: dom_1.default.parseName(node[i]),\n                                            componentToken: node[i].getAttribute(ID),\n                                            which: component //所属组件\n                                        });\n                                    }\n                                    else {\n                                        res = res.concat({\n                                            attr: len[j].name,\n                                            value: attrVal,\n                                            type: 'attr',\n                                            id: node[i].getAttribute(ID),\n                                            position: '[' + ID + '=\"' + node[i].getAttribute(ID) + '\"]',\n                                            item: i,\n                                            isComponent: false,\n                                            which: component //所属组件\n                                        });\n                                    }\n                                }\n                            }\n                        }\n                        if (node[i].childNodes && node[i].childNodes.length) {\n                            loopAttr(node[i].childNodes);\n                        }\n                    }\n                }\n            }\n        }\n        loopAttr(node);\n        // textContent\n        function loopText(node) {\n            if (typeof node === 'object' && node.length) {\n                for (var i = 0; i < node.length; i++) {\n                    if (node[i].nodeType === 3) {\n                        var text = node[i].textContent;\n                        if (self.isComponentData(name, text)) {\n                            res = res.concat({\n                                value: name,\n                                type: 'text',\n                                position: '[' + ID + '=\"' + node[i].parentNode.getAttribute(ID) + '\"]',\n                                item: i,\n                                isComponent: false\n                            });\n                        }\n                    }\n                    if (node[i].childNodes && node[i].childNodes.length) {\n                        loopText(node[i].childNodes);\n                    }\n                }\n            }\n        }\n        loopText(node);\n        return res;\n    };\n    /**\n     * 组件集合转json对象\n     * @param arr\n     */\n    renderComponents.prototype.listToObj = function (arr) {\n        var obj = {};\n        arr.forEach(function (v) {\n            obj[v.name] = v;\n        });\n        return obj;\n    };\n    /**\n     * 获取组件的名称集合\n     */\n    renderComponents.prototype.getComponentNameList = function () {\n        var arr = [];\n        this.CList.forEach(function (v) {\n            arr.push(v.name);\n        });\n        return arr;\n    };\n    /**\n     * 根据dom节点获取component， 遍历子节点\n     * @param node dom节点\n     */\n    renderComponents.prototype.findComponent = function (node) {\n        if (node.nodeType === 3) {\n            return;\n        }\n        var arr = [];\n        var self = this;\n        // tag标签\n        function loopTagNode(node) {\n            var normalizedNodeName = self.normalizeDirective(dom_1.default.getNodeName(node).toLowerCase());\n            if (self.componentNames.includes(normalizedNodeName)) {\n                arr.push(util_1.default.deepClone(util_1.default.extend(self.CObj[normalizedNodeName], { token: node.getAttribute(ID) })));\n                // arr.push(Util.extend(self.CObj[normalizedNodeName], {token: node.getAttribute(ID)}));\n            }\n            if (node.childNodes && node.childNodes.length) {\n                node.childNodes.forEach(function (v) {\n                    if (v.nodeType !== 3) {\n                        loopTagNode(v);\n                    }\n                });\n            }\n        }\n        loopTagNode(node);\n        return arr;\n    };\n    /**\n     * 根据dom节点获取component， 不遍历子节点\n     * @param node dom节点\n     * @param name 组件名称\n     */\n    renderComponents.prototype.getComponent = function (node, name) {\n        var arr = [];\n        var self = this;\n        // tag标签\n        function loopTagNode(node) {\n            var normalizedNodeName = util_1.default.cameCase(dom_1.default.getNodeName(node).toLowerCase());\n            if (self.componentNames.includes(normalizedNodeName)) {\n                arr.push(normalizedNodeName);\n                var obj = {};\n                for (var i = 0, len = node.attributes; i < len.length; i++) {\n                    if (len[i].name !== ID) {\n                        obj[len[i].name] = parseTpl_1.default(len[i].value, self.CObj[name].data, self.CObj[name].props);\n                    }\n                }\n                if (!dom_1.default.noOtherAttr(ID, node)) {\n                    obj['component'] = normalizedNodeName;\n                    self.componentAttrs[node.getAttribute(ID)] = obj;\n                }\n            }\n        }\n        loopTagNode(node);\n        return arr;\n    };\n    /**\n     * 判断指令是否含有mulit属性\n     * @param name\n     */\n    renderComponents.prototype.directiveIsMulit = function (name) {\n        for (var i = 0, len = this.CList; i < len.length; i++) {\n            if (len[i]['name'] == name && len[i].mulit == true) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * 组件指令的层级关系\n     * @param a\n     * @param b\n     */\n    renderComponents.prototype.componentLayer = function (a, b) {\n        var sort = b.layer - a.layer;\n        if (sort == 0) {\n            if (a.name != b.name) {\n                return a.name < b.name ? -1 : 1;\n            }\n            else {\n                return a.cid - b.cid;\n            }\n        }\n        else {\n            return sort;\n        }\n    };\n    /**\n     * 获取data数据改变后的模板\n     * @param html\n     * @param data\n     */\n    renderComponents.prototype.getChangedData = function (html, data, props) {\n        return parseTpl_1.default(html, data, props);\n    };\n    /**\n     * 序列化指令\n     * @param name\n     */\n    renderComponents.prototype.normalizeDirective = function (name) {\n        return util_1.default.cameCase(name.replace(PREFIX_DIRECTIVE, ''));\n    };\n    /**\n     * 判断变量是否在组件的data,props之中, 并返回结果\n     * @param exp 变量\n     * @param component 组件\n     */\n    renderComponents.prototype.inComponent = function (exp, component) {\n        return component.data[exp] || component.props.default[exp];\n    };\n    return renderComponents;\n}());\nexports.default = renderComponents;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"../util\");\nvar $log = require(\"../log\");\nvar HandelDom = /** @class */ (function () {\n    function HandelDom() {\n        this.BOOLEAN_ATTRS = {\n            selected: true\n        };\n        this.BOOLEAN_ELEMENT = {};\n    }\n    /**\n     * 获取dom节点\n     * @param str 节点标识,class,id...\n     */\n    HandelDom.prototype.q = function (str) {\n        return document.querySelector(str);\n    };\n    /**\n     * 根据字符串创建dom节点，返回dom节点\n     * @param str\n     */\n    HandelDom.prototype.createDom = function (str) {\n        if (util_1.default.type(str) != 'string') {\n            $log.error('组件模板' + str + '必须为字符串，请检查组件的template,templateId,templateUrl属性');\n        }\n        var html = \"\" + str;\n        html = html.trim();\n        html = html.replace(/<!--[\\s\\S]*?-->/gm, ''); //去除html注释\n        html = html.replace(/>\\s+([^\\s<]*)\\s+</gm, '>$1<').trim(); //去除html标签间的多余空白\n        var pattern = /([^>]*)(<([a-z/][-a-z0-9_:.]*)[^>/]*(\\/*)>)([^<]*)/gm, matchArr, start = Date.now();\n        var arr = [];\n        while ((matchArr = pattern.exec(html))) {\n            var textBefore = matchArr[1], //获取排在标签前的文本\n            elem = matchArr[2], //获取整个开标签或闭标签\n            elemName = matchArr[3], //获取标签名\n            closeSign = matchArr[4], //判断是否为自闭合标签标记\n            textAfter = matchArr[5]; //获取排在标签后的文本\n            arr.push(elemName);\n        }\n        var dom = document.createElement(arr[0]);\n        dom.innerHTML = str;\n        return dom;\n    };\n    /**\n     * 根据字符串创建dom节点，返回dom的子节点\n     * @param str\n     */\n    HandelDom.prototype.create = function (str) {\n        var div = this.createDom(str);\n        return div.childNodes;\n    };\n    /**\n    * 获取节点名称\n    * @param node\n    */\n    HandelDom.prototype.getNodeName = function (node) {\n        return node.nodeName ? node.nodeName : node[0].nodeName;\n    };\n    /**\n     * 获取节点的驼峰名称\n     * @param node\n     */\n    HandelDom.prototype.parseName = function (node) {\n        return util_1.default.cameCase(node.tagName.toLowerCase());\n    };\n    /**\n     * 包括dom节点\n     * @param str 节点字符串\n     * @param wrap 包括的tag标签\n     */\n    HandelDom.prototype.wrapDom = function (str, wrap) {\n        return \"<\" + wrap + \">\" + str + \"</\" + wrap + \">\";\n    };\n    /**\n     * 获取某个属性的集合\n     * @param attr 属性名\n     * @param node 节点\n     */\n    HandelDom.prototype.getAttr = function (attr, node) {\n        var arr = [];\n        if (!node)\n            return arr;\n        if (node.nodeType === 1 && node.getAttribute(attr)) {\n            arr.push(node.getAttribute(attr));\n        }\n        if (node.childNodes && node.childNodes.length) {\n            getA(node.childNodes);\n        }\n        function getA(node) {\n            for (var i = 0; i < node.length; i++) {\n                if (node[i].nodeType === 1 && node[i].getAttribute(attr)) {\n                    arr.push(node[i].getAttribute(attr));\n                }\n                if (node[i].childNodes && node[i].childNodes.length) {\n                    getA(node[i].childNodes);\n                }\n            }\n        }\n        return arr;\n    };\n    /**\n     * 父组件的data值覆盖子组件的props值（组件的attr值与props对比，有则覆盖）\n     * @param attr {component:'hello', 'width': 100}\n     * @param props { 'width': { default:50, type:Number } }\n     */\n    HandelDom.prototype.combineAttrAndProps = function (attr, props) {\n        if (util_1.default.isEmpty(attr))\n            return props;\n        if (attr) {\n            var newAttr = util_1.default.expectSome(attr, 'component');\n            for (var i in newAttr) {\n                if (props && props[i]) {\n                    props[i].default = newAttr[i];\n                }\n            }\n        }\n        return props;\n    };\n    /**\n     * 节点没有除了attr以外的其他属性\n     * @param attr 属性\n     * @param node 节点\n     */\n    HandelDom.prototype.noOtherAttr = function (attr, node) {\n        if (node.nodeType === 1) {\n            if (node.attributes) {\n                if (node.attributes.length >= 2)\n                    return false;\n                if (node.attributes.length == 1) {\n                    if (node.attributes[0].name == attr)\n                        return true;\n                    else\n                        return false;\n                }\n            }\n        }\n    };\n    /**\n     * 根据bool值转化成display\n     * @param bool true, false\n     */\n    HandelDom.prototype.boolToDisplay = function (bool) {\n        if (bool === 'true' || bool === true)\n            return 'block';\n        if (bool === 'false' || bool === false)\n            return 'none';\n    };\n    /**\n     * 获取节点除了某些属性外的其他属性\n     * @param node 节点\n     * @param attr 属性\n     */\n    HandelDom.prototype.expectSomeAttr = function (node, attr) {\n        var obj = {};\n        if (node.attributes && node.attributes.length) {\n            for (var i = 0, len = node.attributes; i < len.length; i++) {\n                if (len[i].name !== attr) {\n                    obj[len[i].name] = len[i].value;\n                }\n            }\n        }\n        return obj;\n    };\n    /**\n     * 添加注释节点\n     * @param str 注释内容\n     */\n    HandelDom.prototype.addComment = function (str) {\n        var dom = document.createComment(str);\n        return dom;\n    };\n    /**\n     * 替换注释节点\n     * @param node 父节点\n     * @param text 注释内容\n     * @param newNode 新的节点\n     */\n    HandelDom.prototype.replaceComment = function (node, text, newNode) {\n        var iterator = document.createNodeIterator(node, NodeFilter.SHOW_COMMENT, null);\n        var n = iterator.nextNode();\n        while (n) {\n            if (n.nodeValue === text) {\n                n.parentNode.replaceChild(newNode, n);\n            }\n            n = iterator.nextNode();\n        }\n    };\n    /**\n     * 更改节点属性\n     * @param str 节点\n     * @param key 属性名\n     * @param val 属性值\n     */\n    HandelDom.prototype.attr = function (str, key, val) {\n        var dom = this.q(str);\n        if (!util_1.default.isNil(dom)) {\n            if (arguments.length === 3) {\n                dom.setAttribute(key, val);\n            }\n            if (arguments.length === 2) {\n                return dom.getAttribute(key);\n            }\n        }\n    };\n    /**\n     * 返回节点的html\n     * @param str 节点标识\n     */\n    HandelDom.prototype.hasHtml = function (str) {\n        if (DOM.q(str)) {\n            return DOM.q(str).innerHTML;\n        }\n        return undefined;\n    };\n    /**\n     * 返回require,import 的html\n     * @param str 节点标识\n     */\n    HandelDom.prototype.hasHtmlUrl = function (str) {\n        return str;\n    };\n    /**\n     * head添加style\n     * @param res style所属类型\n     * @param component style所属组件\n     */\n    HandelDom.prototype.addStyle = function (res, component) {\n        if (component.name === undefined) {\n            $log.error('找不到组件的name属性，无法添加style样式');\n        }\n        if (res === undefined) {\n            return;\n        }\n        // 组件的标签名称\n        var tag = util_1.default._cameCase(component.name);\n        switch (res.type) {\n            case 'string':\n                this.appendStyle(res.result, tag);\n                break;\n            case 'id':\n                if (this.q(res.result) === undefined) {\n                    $log.error('名称为' + component.name + '组件中，节点' + res.result + '不存在');\n                }\n                var inner = this.q(res.result).innerHTML;\n                this.appendStyle(inner, tag);\n                break;\n            case 'url':\n                this.appendStyle(res.result, tag);\n                break;\n        }\n    };\n    /**\n     * 将样式表添加到head里面\n     * @param inner 样式表内容\n     * @param title style的title属性，也是组件tag标签\n     */\n    HandelDom.prototype.appendStyle = function (inner, title) {\n        var style = \"\" + inner;\n        style = util_1.default.trimStr(style);\n        var newStyle = document.createElement('style');\n        newStyle.type = 'text/css';\n        newStyle.title = title;\n        newStyle.innerHTML = style;\n        this.q('head').appendChild(newStyle);\n        // 给选择符设置前缀\n        this.addSelectorPrefix(title);\n    };\n    /**\n     * 给选择符设置前缀\n     * @param title style的title属性\n     */\n    HandelDom.prototype.addSelectorPrefix = function (title) {\n        var stylesheet = document.styleSheets;\n        for (var i = 0; i < stylesheet.length; i++) {\n            if (stylesheet[i].title === title) {\n                for (var j = 0, cr = stylesheet[i].cssRules; j < cr.length; j++) {\n                    cr[j].selectorText = title + ' ' + cr[j].selectorText;\n                }\n            }\n        }\n    };\n    /**\n     * 移除具有相同属性的节点，第item个除外\n     * @param item 索引\n     * @param selector 节点选择器\n     */\n    HandelDom.prototype.removeDomExpectWhich = function (item, selector) {\n        var nodes = document.querySelectorAll(selector);\n        for (var i = 0; i < nodes.length; i++) {\n            if (i !== item) {\n                nodes[i].parentNode.removeChild(nodes[i]);\n            }\n        }\n    };\n    HandelDom.prototype.watch = function (node) {\n        // 观察dom数据变化\n        var MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;\n        var target = document.querySelector(node);\n        var observer = new MutationObserver(function (mu) {\n            // console.log(mu)\n        });\n        var config = { childList: true, attributes: true, characterData: true, subtree: true, attributeOldValue: true, characterDataOldValue: true };\n        observer.observe(target, config);\n    };\n    HandelDom.prototype.booleanAttr = function (node, nodeName) {\n    };\n    return HandelDom;\n}());\nvar DOM = new HandelDom();\nexports.default = DOM;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar $log = require(\"../log\");\nvar util_1 = require(\"../util\");\nvar parse_1 = require(\"../parse\");\nvar ParseTpl = /** @class */ (function () {\n    function ParseTpl(text, data, props) {\n        this.text = text;\n        this.data = data;\n        this.props = props;\n    }\n    /**\n     * 组合data和props属性\n     * @param data\n     * @param props\n     */\n    ParseTpl.prototype.combineData = function (data, props) {\n        if (data === void 0) { data = {}; }\n        if (props === void 0) { props = {}; }\n        if (util_1.default.type(data) != 'object')\n            $log.error('组件是属性data必须为对象');\n        if (util_1.default.type(props) != 'object')\n            $log.error('组件是属性props必须为对象');\n        if (util_1.default.isEmpty(props))\n            return data;\n        for (var i in props) {\n            data[i] = props[i].default;\n        }\n        return data;\n    };\n    // 渲染模板\n    ParseTpl.prototype.tpl = function () {\n        var self = this;\n        var index = 0, parts = [], startIndex, endIndex, exp, expFn;\n        if (this.text == undefined) {\n            return;\n        }\n        while (index < this.text.length) {\n            startIndex = this.text.indexOf('{{', index);\n            if (startIndex != -1) {\n                endIndex = this.text.indexOf('}}', startIndex + 2);\n            }\n            if (startIndex != -1 && endIndex != -1) {\n                if (startIndex != index) {\n                    parts.push(this.text.substring(index, startIndex));\n                }\n                exp = this.text.substring(startIndex + 2, endIndex);\n                expFn = parse_1.default.parse(exp);\n                parts.push(expFn);\n                index = endIndex + 2;\n            }\n            else {\n                parts.push(this.text.substring(index));\n                break;\n            }\n        }\n        // console.log(parts)\n        return parts.reduce(function (prev, cur) {\n            if (util_1.default.type(cur) == 'function') {\n                return prev + self.expectNullUndefined(cur(self.combineData(self.data, self.props)));\n            }\n            else {\n                return prev + cur;\n            }\n        }, '');\n    };\n    /**\n     * 判断表达式是否为null或者undefined，是则返回''\n     * @param str\n     */\n    ParseTpl.prototype.expectNullUndefined = function (str) {\n        if (util_1.default.type(str) == 'null' || util_1.default.type(str) == 'undefined') {\n            return '';\n        }\n        else if (typeof str == 'object') {\n            return JSON.stringify(str);\n        }\n        else {\n            return '' + str;\n        }\n    };\n    return ParseTpl;\n}());\nfunction tpl(text, data, props) {\n    var parseTpl = new ParseTpl(text, data, props);\n    return parseTpl.tpl();\n}\nexports.default = tpl;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar $log = require(\"../log\");\nvar util_1 = require(\"../util\");\nvar lexer_config_1 = require(\"../config/lexer_config\");\n/**\n * 此法解析器，用于解析{{a + b}} 之类的插值运算\n */\nvar Lexer = /** @class */ (function () {\n    function Lexer() {\n        this.index = 0;\n        this.now = undefined;\n        this.tokens = [];\n        this.text = '';\n    }\n    /**\n     * 词法解析函数\n     * @param text\n     * @returns {Array<any>}\n     */\n    Lexer.prototype.lex = function (text) {\n        this.text = text;\n        while (this.index < this.text.length) {\n            this.now = this.text.charAt(this.index);\n            if (util_1.default.whichType(this.now) == 'number' ||\n                (this.now === '.' && util_1.default.whichType(util_1.default.nextLeter(this.index, this.text)))) {\n                this.loopNumber();\n            }\n            else if (util_1.default.whichType(this.now) == 'string') {\n                this.loopString(this.now);\n            }\n            else if (util_1.default.whichType(this.now) == 'letter') {\n                this.loopLetter();\n            }\n            else if (util_1.default.isWhiteSpace(this.now)) {\n                this.index++;\n            }\n            else if (util_1.default.inStr(this.now, '[],{}.:()?;')) {\n                this.pushObj();\n            }\n            else {\n                this.loopOperator();\n            }\n        }\n        return this.tokens;\n    };\n    /**\n     * 添加词法解析对象\n     */\n    Lexer.prototype.pushObj = function () {\n        this.tokens.push({\n            text: this.now,\n            value: this.now\n        });\n        this.index++;\n    };\n    /**\n     * 获取下一个字符\n     * @param n\n     * @returns {string|boolean}\n     */\n    Lexer.prototype.nextStr = function (n) {\n        if (n === void 0) { n = 1; }\n        return (this.index + n < this.text.length) ?\n            this.text.charAt(this.index + n) :\n            false;\n    };\n    /**\n     * 遍历数字类\n     */\n    Lexer.prototype.loopNumber = function () {\n        var number = '';\n        while (this.index < this.text.length) {\n            var now = this.text.charAt(this.index).toLowerCase();\n            if (util_1.default.whichType(now) == 'number' || now === '.') {\n                number += now;\n            }\n            else {\n                var next = util_1.default.nextLeter(this.index, this.text);\n                var prev = number.charAt(number.length - 1);\n                if (now == 'e' && util_1.default.isExponent(next)) {\n                    number += now;\n                }\n                else if (util_1.default.isExponent(now) && prev === 'e' && next && util_1.default.isNumber(next)) {\n                    number += now;\n                }\n                else if (util_1.default.isExponent(now) && prev === 'e' && (!next || !util_1.default.isNumber(next))) {\n                    $log.error(\"指数格式错误！\");\n                }\n                else {\n                    break;\n                }\n            }\n            this.index++;\n        }\n        this.tokens.push({\n            text: number,\n            value: Number(number)\n        });\n    };\n    /**\n     * 遍历字符串类，'\"abc\"'\n     */\n    Lexer.prototype.loopString = function (quote) {\n        this.index++;\n        var string = '', \n        //避免单独的操作符匹配错误，例如'\"!\"'\n        raw = quote;\n        while (this.index < this.text.length) {\n            var now = this.text.charAt(this.index);\n            raw += now;\n            if (now == quote) { //保证首位字符相同\n                this.index++;\n                this.tokens.push({\n                    text: raw,\n                    value: string\n                });\n                return;\n            }\n            else if (now == lexer_config_1.SPECIALS[now]) { //匹配特殊字符\n                string += lexer_config_1.SPECIALS[now];\n            }\n            else {\n                string += now;\n            }\n            this.index++;\n        }\n        $log.error('无法匹配的符号');\n    };\n    /**\n     * 字符类, 'abc_$'\n     */\n    Lexer.prototype.loopLetter = function () {\n        var letter = '';\n        while (this.index < this.text.length) {\n            var now = this.text.charAt(this.index);\n            if (util_1.default.isLetter(now) || util_1.default.isNumber(now)) {\n                letter += now;\n            }\n            else {\n                break;\n            }\n            this.index++;\n        }\n        // 针对boolean,null,undefined\n        var v = lexer_config_1.LETTER.hasOwnProperty(letter) ? lexer_config_1.LETTER[letter] : letter;\n        this.tokens.push({\n            text: letter,\n            identifier: true,\n            value: v\n        });\n    };\n    /**\n     * 操作符，+- ！==\n     */\n    Lexer.prototype.loopOperator = function () {\n        var str = this.now, str2 = this.now + this.nextStr(1), str3 = this.now + this.nextStr(1) + this.nextStr(2), op = lexer_config_1.OPERATORS[str], op2 = lexer_config_1.OPERATORS[str2], op3 = lexer_config_1.OPERATORS[str3];\n        if (op || op2 || op3) {\n            var ct = op3 ? str3 : (op2 ? str2 : str);\n            this.tokens.push({\n                text: ct,\n                value: ct\n            });\n            this.index += ct.length;\n        }\n        else {\n            $log.error('未识别的字符' + this.now);\n        }\n    };\n    return Lexer;\n}());\nexports.default = Lexer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar astBuilder_1 = require(\"./astBuilder\");\nvar astCompile_1 = require(\"./astCompile\");\nvar Parser = /** @class */ (function () {\n    function Parser(lexer, pipes) {\n        this.lexer = lexer;\n        this.astBuilder = new astBuilder_1.default(this.lexer);\n        this.astCompile = new astCompile_1.default(this.astBuilder, pipes);\n    }\n    Parser.prototype.parse = function (text) {\n        return this.astCompile.compile(text);\n    };\n    return Parser;\n}());\nexports.default = Parser;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AST = require(\"../config/ast_config\");\nvar LEXER = require(\"../config/lexer_config\");\nvar util_1 = require(\"../util\");\n/**\n * 抽象语法结构树\n [{ type: 'ASTBuilder.Program',\n  body:\n   { type: 'ASTBuilder.Binary',\n     boolean_expression:\n      { type: 'ASTBuilder.Binary',\n        operator: '>',\n        left: { type: 'ASTBuilder.Identifier', value: 'a' },\n        right: { type: 'ASTBuilder.MetaData', value: 2 } },\n     true_value: { type: 'ASTBuilder.MetaData', value: 1 },\n     error_value: { type: 'ASTBuilder.MetaData', value: 0 } } }]\n */\nvar ASTBuilder = /** @class */ (function () {\n    function ASTBuilder(lexer) {\n        this.lexer = lexer;\n        this.tokens = [];\n    }\n    /**\n     * 生成抽象语法结构树\n     * @param text\n     * @returns {Object}\n     */\n    ASTBuilder.prototype.ast = function (text) {\n        this.tokens = this.lexer.lex(text);\n        return this.init();\n    };\n    /**\n     * 结构树形式, ';'看作是多个表达式的组合，故词法树的body有对象进化为对象数组Array<object>\n     * @returns {{type: string, body: {}}}\n     */\n    ASTBuilder.prototype.init = function () {\n        var body = [];\n        while (true) {\n            if (this.tokens.length) {\n                body.push(this.pipeBuilder());\n            }\n            if (!util_1.default.expect(this.tokens, ';')) {\n                AST.ast_init['body'] = {};\n                AST.ast_init['body'] = body;\n                return util_1.default.clone(AST.ast_init);\n            }\n        }\n    };\n    /**\n     * 中介函数\n     * @returns {any}\n     */\n    ASTBuilder.prototype.agency = function () {\n        var agency;\n        if (util_1.default.expect(this.tokens, '(')) {\n            agency = this.pipeBuilder();\n            util_1.default.consume(this.tokens, ')');\n        }\n        else if (util_1.default.expect(this.tokens, '[')) {\n            agency = this.arrayBuilder();\n        }\n        else if (util_1.default.expect(this.tokens, '{')) {\n            agency = this.objectBuilder();\n        }\n        //处理boolean,null,this\n        else if (LEXER.LETTER.hasOwnProperty(this.tokens[0]['text'])) {\n            if (this.tokens[0]['text'] == \"this\") {\n                agency = util_1.default.clone(AST.ast_this);\n            }\n            else {\n                AST.ast_constant['value'] = LEXER.LETTER[util_1.default.consume(this.tokens)['text']];\n                agency = util_1.default.clone(AST.ast_constant);\n            }\n        }\n        //处理标识符\n        else if (util_1.default.exitFirst(this.tokens).identifier) {\n            agency = this.identifierBuilder();\n        }\n        //处理常量\n        else {\n            agency = this.constantBuilder();\n        }\n        /**\n         * 处理带有 '.', '[' 的标识符\n         * 结构树：{\"type\":\"ASTBuilder.Member\",\"object\":{\"type\":\"ASTBuilder.Member\",\"object\":{\"type\":\"ASTBuilder.Identifier\",\"value\":\"a\"},\"property\":{\"type\":\"ASTBuilder.Identifier\",\"value\":\"b\"}},\"property\":{\"type\":\"ASTBuilder.Identifier\",\"value\":\"c\"}}\n         */\n        var type;\n        while (type = util_1.default.expect(this.tokens, '.', '[', '(')) {\n            agency = this.memberBuilder(type, agency);\n        }\n        // console.log(JSON.stringify(agency));\n        return agency;\n    };\n    /**\n     * 遍历'[]','{}','()'等对称标识符\n     */\n    ASTBuilder.prototype.closingTags = function (quote) {\n        var arr = [], that = this;\n        if (!util_1.default.exitFirst(this.tokens, quote)) {\n            do {\n                if (util_1.default.exitFirst(this.tokens, quote))\n                    break;\n                arr.push(that.agency());\n            } while (util_1.default.expect(this.tokens, ','));\n        }\n        util_1.default.consume(this.tokens, quote);\n        return arr;\n    };\n    /**\n     * 结构树的常量部分\n     * @returns {{type: string, value: {}}}\n     */\n    ASTBuilder.prototype.constantBuilder = function () {\n        AST.ast_constant['value'] = util_1.default.consume(this.tokens)['value'];\n        return util_1.default.clone(AST.ast_constant);\n    };\n    /**\n    * 结构树的标识符部分\n    * @returns {{type: string, value: {}}}\n    */\n    ASTBuilder.prototype.identifierBuilder = function () {\n        AST.ast_identifier['value'] = util_1.default.consume(this.tokens)['value'];\n        return util_1.default.clone(AST.ast_identifier);\n    };\n    /**\n     * 结构树的数组部分\n     * @returns {{type: string, value: {}}}\n     */\n    ASTBuilder.prototype.arrayBuilder = function () {\n        AST.ast_array['value'] = this.closingTags(']');\n        return util_1.default.clone(AST.ast_array);\n    };\n    /**\n     * 结构树的对象部分\n     * @returns {{type: string, value: {}}}\n     */\n    ASTBuilder.prototype.objectBuilder = function () {\n        var arr = [];\n        if (!util_1.default.exitFirst(this.tokens, '}')) {\n            do {\n                AST.ast_json['key'] = this.constantBuilder();\n                util_1.default.consume(this.tokens, ':');\n                AST.ast_json['value'] = this.assignmentBuilder();\n                arr.push(util_1.default.clone(AST.ast_json));\n            } while (util_1.default.expect(this.tokens, ','));\n        }\n        util_1.default.consume(this.tokens, '}');\n        AST.ast_object['value'] = arr;\n        return util_1.default.clone(AST.ast_object);\n    };\n    /**\n     * 结构树的对象取值部分，a.b  a[\"b\"]，a() 等\n     * @param type\n     * @param agency\n     * @returns {{type: string, value: {}}}\n     */\n    ASTBuilder.prototype.memberBuilder = function (type, agency) {\n        if (type.text === '[') {\n            agency = {\n                type: AST.dataType['7'],\n                object: agency,\n                property: this.agency(),\n                computed: true\n            };\n            util_1.default.consume(this.tokens, ']');\n        }\n        if (type.text === '.') {\n            agency = {\n                type: AST.dataType['7'],\n                object: agency,\n                property: this.identifierBuilder(),\n                computed: false\n            };\n        }\n        if (type.text === '(') {\n            agency = {\n                type: AST.ast_function['type'],\n                callee: agency,\n                arguments: this.closingTags(')'),\n                pipe: false\n            };\n        }\n        return agency;\n    };\n    /**\n     * 含有‘=’等符号\n     * @returns {any}\n     */\n    ASTBuilder.prototype.assignmentBuilder = function () {\n        var left = this.ternaryBuilder();\n        if (util_1.default.expect(this.tokens, '=')) {\n            var right = this.ternaryBuilder();\n            AST.ast_assignment['left'] = left;\n            AST.ast_assignment['right'] = right;\n            return util_1.default.clone(AST.ast_assignment);\n        }\n        return left;\n    };\n    /**\n     * 一元运算符\n     * @returns {any}\n     */\n    ASTBuilder.prototype.unaryBuilder = function () {\n        var ue = util_1.default.expect(this.tokens, '+', '!', '-');\n        if (ue) {\n            AST.ast_unary['operator'] = ue.text;\n            AST.ast_unary['value'] = this.unaryBuilder();\n            return util_1.default.clone(AST.ast_unary);\n        }\n        if (!ue)\n            return this.agency();\n    };\n    /**\n     *乘法运算\n     * @returns {Object}\n     */\n    ASTBuilder.prototype.multiplicativeBuilder = function () {\n        var left = this.unaryBuilder(), ue;\n        while (ue = util_1.default.expect(this.tokens, '*', '%', '/')) {\n            AST.ast_binary['operator'] = ue.text;\n            AST.ast_binary['left'] = left;\n            AST.ast_binary['right'] = this.unaryBuilder();\n            left = util_1.default.clone(AST.ast_binary);\n        }\n        return left;\n    };\n    /**\n     * 加法运算\n     * @returns {Object}\n     */\n    ASTBuilder.prototype.additiveBuilder = function () {\n        var left = this.multiplicativeBuilder(), ue;\n        while (ue = util_1.default.expect(this.tokens, '+', '-')) {\n            left = {\n                type: AST.ast_binary['type'],\n                operator: ue.text,\n                left: left,\n                right: this.multiplicativeBuilder()\n            };\n        }\n        return left;\n    };\n    /**\n     * 关系运算符，‘>’\n     * @returns {Object}\n     */\n    ASTBuilder.prototype.relationalBuilder = function () {\n        var left = this.additiveBuilder(), ue;\n        while (ue = util_1.default.expect(this.tokens, '>', '<', '>=', '<=')) {\n            left = {\n                type: AST.ast_binary['type'],\n                operator: ue.text,\n                left: left,\n                right: this.additiveBuilder()\n            };\n        }\n        return left;\n    };\n    /**\n     * 等法运算符，‘==’\n     * @returns {Object}\n     */\n    ASTBuilder.prototype.equalityBuilder = function () {\n        var left = this.relationalBuilder(), ue;\n        while (ue = util_1.default.expect(this.tokens, '==', '===', '!=', '!==')) {\n            left = {\n                type: AST.ast_binary['type'],\n                operator: ue.text,\n                left: left,\n                right: this.relationalBuilder()\n            };\n        }\n        return left;\n    };\n    /**\n     * && 运算符， &&高于||\n     * @returns {Object}\n     */\n    ASTBuilder.prototype.andBuilder = function () {\n        var left = this.equalityBuilder(), ue;\n        while (ue = util_1.default.expect(this.tokens, '&&')) {\n            left = {\n                type: AST.ast_logical['type'],\n                operator: ue.text,\n                left: left,\n                right: this.equalityBuilder()\n            };\n        }\n        return left;\n    };\n    /**\n     * || 运算符， &&高于||\n     * @returns {Object}\n     */\n    ASTBuilder.prototype.orBuilder = function () {\n        var left = this.andBuilder(), ue;\n        while (ue = util_1.default.expect(this.tokens, '||')) {\n            left = {\n                type: AST.ast_logical['type'],\n                operator: ue.text,\n                left: left,\n                right: this.andBuilder()\n            };\n        }\n        return left;\n    };\n    /**\n     * 三元运算符\n     * @returns {Object}\n     */\n    ASTBuilder.prototype.ternaryBuilder = function () {\n        var boolean_expression = this.orBuilder();\n        if (util_1.default.expect(this.tokens, '?')) {\n            var true_value = this.assignmentBuilder();\n            if (util_1.default.consume(this.tokens, ':')) {\n                var error_value = this.assignmentBuilder();\n                return {\n                    type: AST.ast_teranry['type'],\n                    boolean_expression: boolean_expression,\n                    true_value: true_value,\n                    error_value: error_value\n                };\n            }\n        }\n        return boolean_expression;\n    };\n    /**\n     * 管道处理\n     */\n    ASTBuilder.prototype.pipeBuilder = function () {\n        var pipes = this.assignmentBuilder();\n        while (util_1.default.expect(this.tokens, '|')) {\n            var args = [pipes];\n            pipes = {\n                type: AST.ast_function['type'],\n                callee: this.identifierBuilder(),\n                arguments: args,\n                pipe: true\n            };\n            while (util_1.default.expect(this.tokens, ':')) {\n                args.push(this.assignmentBuilder());\n            }\n        }\n        return pipes;\n    };\n    return ASTBuilder;\n}());\nexports.default = ASTBuilder;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ast_config_1 = require(\"../config/ast_config\");\nvar $log = require(\"../log\");\nvar K = require(\"../config/unSafeStr\");\nvar util_1 = require(\"../util\");\nvar ps = {}; //管道集合\nvar ASTCompile = /** @class */ (function () {\n    function ASTCompile(astBuilder, pipes) {\n        this.astBuilder = astBuilder;\n        this.state = {\n            body: [],\n            compileId: 0,\n            echo: [],\n            pipes: {} //管道过滤器\n        };\n        this.ast = {};\n        ps = pipes;\n    }\n    /**\n     * 词法树的最终解析执行函数\n     * @param text\n     * @returns {Function}\n     */\n    ASTCompile.prototype.compile = function (text) {\n        this.ast = this.astBuilder.ast(text);\n        this.handelTree(this.ast);\n        this.constantExpr(this.ast);\n        var fn = this.pipePrefix() + 'var fn = function(scope, local){'\n            + (this.state.echo.length ? 'var ' + this.state.echo.join(',') + ';' : '')\n            + this.state.body.join('') + '}; return fn;';\n        var fns = new Function('safeProperty', 'safeObject', 'safeFunction', 'isUndefined', 'pipe', fn)(safeProperty, safeObject, safeFunction, isUndefined, pipe);\n        fns.literal = this.isLiteral(); // 定义字面量\n        fns.constant = this.ast.constant; // 定义常亮\n        return fns;\n    };\n    /**\n     * 递归解析词法树\n     * @param ast 词法结构树\n     * @param context 针对函数的上下文\n     * @param createNewElement 布尔值，如果属性不存在就动态创建一个\n     * @returns {any}\n     */\n    ASTCompile.prototype.handelTree = function (ast, context, createNewElement) {\n        if (context === void 0) { context = { context: undefined, name: undefined, computed: undefined }; }\n        switch (ast.type) {\n            case ast_config_1.dataType['1']: //'ASTBuilder.Init'\n                this.initCompile(ast);\n                break;\n            case ast_config_1.dataType['2']: //'ASTBuilder.MetaData'\n                return this.metaCompile(ast);\n            case ast_config_1.dataType['3']: //'ASTBuilder.Array'\n                return this.arrayCompile(ast);\n            case ast_config_1.dataType['4']: //'ASTBuilder.Object'\n                return this.objectCompile(ast);\n            case ast_config_1.dataType['5']: //'ASTBuilder.Identifier'\n                return this.identifierCompile(ast, context, createNewElement);\n            case ast_config_1.dataType['6']: //'ASTBuilder.This'\n                return this.thisCompile();\n            case ast_config_1.dataType['7']: //'ASTBuilder.Member'\n                return this.memberCompile(ast, context, createNewElement);\n            case ast_config_1.dataType['8']: //'ASTBuilder.Function'\n                return this.functionCompile(ast);\n            case ast_config_1.dataType['9']: //'ASTBuilder.Assignment'\n                return this.assigmentCompile(ast);\n            case ast_config_1.dataType['10']: //'ASTBuilder.Unary'\n                return this.unaryCompile(ast);\n            case ast_config_1.dataType['11']: //'ASTBuilder.Binary'\n                return this.binaryCompile(ast);\n            case ast_config_1.dataType['12']: //'ASTBuilder.Logical'\n                return this.logicalCompile(ast);\n            case ast_config_1.dataType['13']: //'ASTBuilder.Ternary'\n                return this.ternaryCompile(ast);\n        }\n    };\n    /**\n     * 初始化词法编译器\n     * @param ast\n     */\n    ASTCompile.prototype.initCompile = function (ast) {\n        var _this = this;\n        var arr = util_1.default.clone(ast.body);\n        var last = arr.pop();\n        arr.forEach(function (val) {\n            _this.state.body.push(_this.handelTree(val));\n        });\n        this.state.body.push('return ', this.handelTree(last), ';');\n    };\n    /**\n     * 基础类数据编译\n     * @param ast\n     * @returns {any}\n     */\n    ASTCompile.prototype.metaCompile = function (ast) {\n        return util_1.default.wrapString(ast.value);\n    };\n    /**\n     * 数组类词法树编译\n     * @param ast\n     * @returns {string}\n     */\n    ASTCompile.prototype.arrayCompile = function (ast) {\n        var _this = this;\n        var arr = ast.value.map(function (val) {\n            return _this.handelTree(val);\n        });\n        return '[' + arr.join(',') + ']';\n    };\n    /**\n     * 对象类词法树编译\n     * @param ast\n     * @returns {string}\n     */\n    ASTCompile.prototype.objectCompile = function (ast) {\n        var _this = this;\n        var arrJson = ast.value.map(function (val) {\n            var key = val['key']['value'];\n            var value = _this.handelTree(val['value']);\n            return key + ':' + value;\n        });\n        return '{' + arrJson.join(',') + '}';\n    };\n    /**\n     * 标识符词法树编译\n     * @param ast\n     * @param context\n     * @param createNewElement\n     * @returns {string}\n     */\n    ASTCompile.prototype.identifierCompile = function (ast, context, createNewElement) {\n        //判断是否是安全的属性名\n        safeProperty(ast.value);\n        var id = this.incrementId();\n        // 存在本地属性local\n        util_1.default.conditionIsRight(this.state.body, util_1.default.hasProperty('local', ast.value), util_1.default.concatCode(id, util_1.default.nonComputedMember('local', ast.value)));\n        // 创建空对象\n        if (createNewElement) {\n            util_1.default.conditionIsRight(this.state.body, util_1.default.notExist(util_1.default.hasProperty('local', ast.value)) + ' && scope && ' + util_1.default.notExist(util_1.default.hasProperty('scope', ast.value)), util_1.default.concatCode(util_1.default.nonComputedMember('scope', ast.value), '{}'));\n        }\n        //不存在本地属性，只有scope属性\n        util_1.default.conditionIsRight(this.state.body, util_1.default.notExist(util_1.default.hasProperty('local', ast.value)) + ' && scope', util_1.default.concatCode(id, util_1.default.nonComputedMember('scope', ast.value)));\n        // 处理函数上下文\n        if (context) {\n            context.context = util_1.default.hasProperty('local', ast.value) + '?local:scope';\n            context.name = ast.value;\n            context.computed = false;\n        }\n        this.state.body.push('safeObject(' + id + ');');\n        return id;\n    };\n    /**\n     * 含有this的编译\n     * @returns {string}\n     */\n    ASTCompile.prototype.thisCompile = function () {\n        return 'scope';\n    };\n    /**\n     * 对象属性操作类词法树编译，如a.b, a[\"b\"]\n     * @param ast\n     * @param context\n     * @param createNewElement\n     * @returns {string}\n     */\n    ASTCompile.prototype.memberCompile = function (ast, context, createNewElement) {\n        var id = this.incrementId();\n        var noComp = this.handelTree(ast.object, undefined, true);\n        if (context) {\n            context.context = noComp;\n        }\n        if (ast.computed) { //a[\"b\"]\n            var comp = this.handelTree(ast.property);\n            this.state.body.push('safeProperty(' + comp + ');');\n            //处理空对象\n            if (createNewElement) {\n                util_1.default.conditionIsRight(this.state.body, util_1.default.notExist(util_1.default.computedMember(noComp, comp)), util_1.default.concatCode(util_1.default.computedMember(noComp, comp), '{}'));\n            }\n            util_1.default.conditionIsRight(this.state.body, noComp, util_1.default.concatCode(id, 'safeObject(' + util_1.default.computedMember(noComp, comp) + ')'));\n            if (context) {\n                context.name = comp;\n                context.computed = true;\n            }\n        }\n        if (!ast.computed) { //a.b\n            safeProperty(ast.property.value);\n            if (createNewElement) {\n                util_1.default.conditionIsRight(this.state.body, util_1.default.notExist(util_1.default.nonComputedMember(noComp, ast.property.value)), util_1.default.concatCode(util_1.default.nonComputedMember(noComp, ast.property.value), '{}'));\n            }\n            util_1.default.conditionIsRight(this.state.body, noComp, util_1.default.concatCode(id, 'safeObject(' + util_1.default.nonComputedMember(noComp, ast.property.value) + ')'));\n            if (context) {\n                context.name = ast.property.value;\n                context.computed = false;\n            }\n        }\n        return id;\n    };\n    /**\n     * 函数类词法树编译\n     * @param ast\n     * @returns {string}\n     */\n    ASTCompile.prototype.functionCompile = function (ast) {\n        var _this = this;\n        var callContext, callee, args;\n        if (ast.pipe) {\n            callee = this.pipeCompile(ast.callee.value);\n            args = ast.arguments.map(function (val) {\n                return _this.handelTree(val);\n            });\n            return callee + '(' + args.join(',') + ')';\n        }\n        if (!ast.pipe) {\n            callContext = { context: undefined, name: undefined, computed: undefined };\n            callee = this.handelTree(ast.callee, callContext);\n            args = ast.arguments.map(function (val) {\n                return 'safeObject(' + _this.handelTree(val) + ')'; //检测函数参数是否安全\n            });\n            // console.log(callContext);\n            if (callContext.name) {\n                this.state.body.push('safeObject(' + callContext.context + ');');\n                if (callContext.computed) {\n                    callee = util_1.default.computedMember(callContext.context, callContext.name);\n                }\n                else {\n                    callee = util_1.default.nonComputedMember(callContext.context, callContext.name);\n                }\n            }\n            //检测函数是否安全\n            this.state.body.push('safeFunction(' + callee + ');');\n            //safeObject 检测函数返回值是否安全\n            return callee + ' && safeObject(' + callee + '(' + args.join(',') + '))';\n        }\n    };\n    /**\n     *含有等号等符号类词法树编译\n     * @param ast\n     * @returns {any}\n     */\n    ASTCompile.prototype.assigmentCompile = function (ast) {\n        var left, leftCon = { context: undefined, name: undefined, computed: undefined };\n        this.handelTree(ast.left, leftCon, true);\n        if (leftCon.computed) {\n            left = util_1.default.computedMember(leftCon.context, leftCon.name);\n        }\n        else {\n            left = util_1.default.nonComputedMember(leftCon.context, leftCon.name);\n        }\n        // console.log(leftCon, left);\n        //safeObject 用于检测表达式右侧是否安全\n        return util_1.default.concatCode(left, 'safeObject(' + this.handelTree(ast.right) + ')');\n    };\n    /**\n     * 含有一元运算符的编译\n     * @param ast\n     * @returns {string}\n     */\n    ASTCompile.prototype.unaryCompile = function (ast) {\n        return ast.operator + '(' + 'isUndefined(' + this.handelTree(ast.value) + '))';\n    };\n    /**\n     * 二元运算符编译\n     * @param ast\n     * @returns {string}\n     */\n    ASTCompile.prototype.binaryCompile = function (ast) {\n        if (util_1.default.inStr(ast.operator, '+-')) { //加减运算\n            return '(isUndefined(' + this.handelTree(ast.left) + ')' + ast.operator + 'isUndefined(' + this.handelTree(ast.right) + '))';\n        }\n        return '(' + this.handelTree(ast.left) + ast.operator + this.handelTree(ast.right) + ')';\n    };\n    /**\n     * 逻辑运算符编译\n     * @param ast\n     * @returns {string}\n     */\n    ASTCompile.prototype.logicalCompile = function (ast) {\n        var id = this.incrementId();\n        this.state.body.push(util_1.default.concatCode(id, this.handelTree(ast.left)));\n        util_1.default.conditionIsRight(this.state.body, ast.operator == '&&' ? id : util_1.default.notExist(id), util_1.default.concatCode(id, this.handelTree(ast.right)));\n        return id;\n    };\n    /**\n     * 三元运算符编译\n     * @param ast\n     * @returns {string}\n     */\n    ASTCompile.prototype.ternaryCompile = function (ast) {\n        var id = this.incrementId();\n        var id2 = this.incrementId();\n        this.state.body.push(util_1.default.concatCode(id2, this.handelTree(ast.boolean_expression)));\n        util_1.default.conditionIsRight(this.state.body, id2, util_1.default.concatCode(id, this.handelTree(ast.true_value)));\n        util_1.default.conditionIsRight(this.state.body, util_1.default.notExist(id2), util_1.default.concatCode(id, this.handelTree(ast.error_value)));\n        return id;\n    };\n    /**\n     * 管道编译\n     * @param name\n     */\n    ASTCompile.prototype.pipeCompile = function (name) {\n        var ps = this.state.pipes;\n        if (!ps.hasOwnProperty('name')) {\n            ps[name] = this.incrementId(true);\n        }\n        return ps[name];\n    };\n    /**\n     * 判断pipes是否存在\n     */\n    ASTCompile.prototype.pipePrefix = function () {\n        var ps = this.state.pipes;\n        if (JSON.stringify(ps) == '{}') {\n            return '';\n        }\n        var arr = [];\n        for (var k in ps) {\n            arr.push(ps[k] + '=' + 'pipe(' + util_1.default.wrapString(k) + ')');\n        }\n        // console.log(arr);\n        return 'var ' + arr.join(',') + ';';\n    };\n    /**\n     * compileId自增\n     */\n    ASTCompile.prototype.incrementId = function (flag) {\n        var id = util_1.default.compileId(this.state.compileId, this.state.echo, flag);\n        this.state.compileId++;\n        return id;\n    };\n    /**\n     * 字面量\n     */\n    ASTCompile.prototype.isLiteral = function () {\n        var arr = this.ast.body;\n        return !arr.length || ((arr.length === 1) &&\n            (arr[0].type === ast_config_1.dataType['2'] ||\n                arr[0].type === ast_config_1.dataType['3'] ||\n                arr[0].type === ast_config_1.dataType['4'] ||\n                arr[0].type === ast_config_1.dataType['5']));\n    };\n    /**\n     * 常量\n     * @param ast\n     */\n    ASTCompile.prototype.constantExpr = function (ast) {\n        var _this = this;\n        var cons, that = this;\n        switch (ast.type) {\n            case ast_config_1.dataType['1']: //ASTBuilder.Init\n                cons = true;\n                arrayLike(ast.body);\n                break;\n            case ast_config_1.dataType['2']: //ASTBuilder.MetaData\n                ast.constant = true;\n                break;\n            case ast_config_1.dataType['3']: //ASTBuilder.Array\n                cons = true;\n                arrayLike(ast.value);\n                ast.constant = cons;\n                break;\n            case ast_config_1.dataType['4']: //ASTBuilder.Object\n                cons = true;\n                ast.value.forEach(function (val) {\n                    _this.constantExpr(val.value);\n                    cons = cons && val.value.constant;\n                });\n                ast.constant = cons;\n                break;\n            case ast_config_1.dataType['5']: //ASTBuilder.Identifier\n            case ast_config_1.dataType['6']: //ASTBuilder.This\n                ast.constant = false;\n                break;\n            case ast_config_1.dataType['7']: //ASTBuilder.Member\n                this.constantExpr(ast.object);\n                if (ast.computed) {\n                    this.constantExpr(ast.property);\n                }\n                ast.constant = ast.object.constant && (!ast.computed || ast.property.constant);\n                break;\n            case ast_config_1.dataType['8']: //ASTBuilder.Function\n                cons = ast.pipe;\n                arrayLike(ast.arguments);\n                ast.constant = cons;\n                break;\n            case ast_config_1.dataType['9']: //ASTBuilder.Assignment\n                leftRight();\n                break;\n            case ast_config_1.dataType['10']: //ASTBuilder.Unary\n                this.constantExpr(ast.value);\n                ast.constant = ast.value.constant;\n                break;\n            case ast_config_1.dataType['11']: //ASTBuilder.Binary\n            case ast_config_1.dataType['12']: //ASTBuilder.Logical\n                leftRight();\n                break;\n            case ast_config_1.dataType['13']: //ASTBuilder.Teranry\n                this.constantExpr(ast.boolean_expression);\n                this.constantExpr(ast.true_value);\n                this.constantExpr(ast.error_value);\n                ast.constant = ast.boolean_expression.constant && ast.true_value.constant && ast.error_value.constant;\n                break;\n        }\n        function arrayLike(array) {\n            array.forEach(function (val) {\n                that.constantExpr(val);\n                cons = cons && val.constant;\n            });\n            ast.constant = cons;\n        }\n        function leftRight() {\n            that.constantExpr(ast.left);\n            that.constantExpr(ast.right);\n            ast.constant = ast.left.constant && ast.right.constant;\n        }\n    };\n    return ASTCompile;\n}());\nexports.default = ASTCompile;\n/**\n * 检测是否是安全的属性名，例如constructor, __defineGetter__等\n * @param str\n */\nfunction safeProperty(str) {\n    var f = K.PROPERTY.some(function (val) {\n        return val === str;\n    });\n    if (f)\n        $log.error(str + '存在编译风险');\n}\n/**\n * 检测是否是安全的对象\n * @param obj\n */\nfunction safeObject(obj) {\n    if (obj == undefined)\n        return;\n    var f = K.WINDOW.every(function (val) {\n        return obj[val];\n    });\n    var f2 = K.NODE.every(function (val) {\n        return obj[val];\n    });\n    if (f || f2 || obj.constructor == obj || obj.getOwnPropertyDescriptor || obj.getOwnPropertyNames)\n        $log.error(obj + '存在编译风险');\n    return obj;\n}\n/**\n * 检查函数是否安全\n * @param fun\n */\nfunction safeFunction(fun) {\n    var f = K.FUN.some(function (val) {\n        return val == fun;\n    });\n    if (f || fun.constructor == fun)\n        $log.error(fun + '存在编译风险');\n}\n/**\n * 判断目标是否为undefined\n * @param target\n * @param value\n * @returns {any}\n */\nfunction isUndefined(target, value) {\n    if (value === void 0) { value = 0; }\n    return typeof target === 'undefined' ? value : target;\n}\n/**\n * 根据管道名称返回管道处理函数\n * @param name 管道名称\n */\nfunction pipe(name) {\n    // console.log(ps);\n    return ps[name];\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//对象属性\nvar PROPERTY = ['constructor', '__proto__', '__defineGetter__', '__defineSetter__', '__lookupGetter__', '__loopupSetter__'];\nexports.PROPERTY = PROPERTY;\n//window对象\nvar WINDOW = ['document', 'alert', 'location', 'setInterval', 'setTimeout'];\nexports.WINDOW = WINDOW;\n//dom节点\nvar NODE = ['nodeName', 'children'];\nexports.NODE = NODE;\n//函数\nvar FUN = [Function.prototype.call, Function.prototype.apply, Function.prototype.bind];\nexports.FUN = FUN;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar $log = require(\"../log\");\nvar util_1 = require(\"../util\");\n/**\n * 执行管道过滤操作\n */\nvar Pipe = /** @class */ (function () {\n    function Pipe() {\n        this.pipes = {};\n    }\n    /**\n     * 注册管道函数\n     * @param name 字符串或者对象\n     * @param factory\n     */\n    Pipe.prototype.register = function (name, factory) {\n        // this.pipes = {};\n        //允许对象方式注册多个pipe\n        if (util_1.default.type(name) == 'object') {\n            for (var i in name) {\n                return this.register(i, name[i]);\n            }\n        }\n        if (util_1.default.type(name) == 'string') {\n            if (util_1.default.type(factory) != 'function')\n                $log.error('注册的管道函数类型为function');\n            var pipe = factory();\n            this.pipes[name] = pipe;\n            return pipe;\n        }\n    };\n    /**\n     * 管道执行函数\n     * @param name\n     */\n    Pipe.prototype.pipe = function (name) {\n        return this.pipes[name];\n    };\n    Pipe.prototype.returnPipes = function () {\n        return this.pipes;\n    };\n    return Pipe;\n}());\nexports.default = Pipe;\n// const pipe = new Pipe();\nfunction $pipeProvider($provider) {\n    var pipes = {};\n    this.register = function (name, factory) {\n        //允许对象方式注册多个pipe\n        if (util_1.default.type(name) == 'object') {\n            for (var i in name) {\n                return this.register(i, name[i]);\n            }\n        }\n        if (util_1.default.type(name) == 'string') {\n            if (util_1.default.type(factory) != 'function')\n                $log.error('注册的管道函数类型为function');\n            return $provider.factory(name + 'Pipe', factory);\n        }\n    };\n    this.$get = ['$injector', function ($injector) {\n            return function (name) {\n                return $injector.get(name + 'Pipe');\n            };\n        }];\n}\nexports.$pipeProvider = $pipeProvider;\n$pipeProvider.$inject = ['$provider'];\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar HandelEventer_1 = require(\"../util/HandelEventer\");\nvar util_1 = require(\"../util\");\n/**\n * 监听组件的data数据变化\n */\nvar HandelData = /** @class */ (function () {\n    function HandelData() {\n        this.data = {};\n        this.name = '';\n        this.token = undefined;\n        this.props = {};\n        this.componentStatus = '';\n    }\n    HandelData.prototype.$data = function (key, val) {\n        var n = arguments.length;\n        switch (n) {\n            case 0:\n                return this.data;\n            case 1:\n                return this.data[key];\n            case 2:\n                var oldData = util_1.default.deepClone(this.data);\n                this.data[key] = val;\n                var newData = this.data;\n                HandelEventer_1.default.trigger(key, util_1.default.clone({\n                    target: this.token,\n                    which: this.name,\n                    old: oldData,\n                    new: newData,\n                    oldVal: oldData[key],\n                    newVal: newData[key],\n                    props: this.props == undefined ? {} : this.props,\n                    componentStatus: this.componentStatus\n                }));\n                break;\n        }\n    };\n    return HandelData;\n}());\nvar Data = new HandelData();\nexports.default = Data;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar HandelEventer_1 = require(\"../util/HandelEventer\");\n/**\n * 组件事件监听函数\n */\nvar HandelEvent = /** @class */ (function () {\n    function HandelEvent() {\n    }\n    /**\n     * 触发事件\n     * @param name 事件名称\n     * @param msg 信息\n     */\n    HandelEvent.prototype.trigger = function (name, msg) {\n        HandelEventer_1.default.trigger(name, msg);\n    };\n    /**\n     * 监听事件\n     * @param name 事件名称\n     * @param fn 回调函数，返回触发的信息\n     */\n    HandelEvent.prototype.listen = function (name, fn) {\n        HandelEventer_1.default.listen(name, fn);\n    };\n    return HandelEvent;\n}());\nvar handelEvent = new HandelEvent();\nexports.default = handelEvent;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar parseHttp_1 = require(\"./parseHttp\");\nvar Http = /** @class */ (function () {\n    function Http() {\n    }\n    /**\n     * ajax请求方式，全配置\n     * @param param0\n     */\n    Http.prototype.ajax = function (_a) {\n        var _b = _a.type, type = _b === void 0 ? 'get' : _b, _c = _a.url, url = _c === void 0 ? '' : _c, data = _a.data;\n        return parseHttp_1.parseHttp(type, url, data);\n    };\n    /**\n     * get请求方式\n     * @param url\n     */\n    Http.prototype.get = function (url) {\n        return parseHttp_1.parseHttp('get', url, null);\n    };\n    /**\n     * post请求\n     * @param url\n     * @param data\n     */\n    Http.prototype.post = function (url, data) {\n        return parseHttp_1.parseHttp('post', url, data);\n    };\n    /**\n     * put请求\n     * @param url\n     * @param data\n     */\n    Http.prototype.put = function (url, data) {\n        return parseHttp_1.parseHttp('put', url, data);\n    };\n    /**\n     * delete请求\n     * @param url\n     * @param data\n     */\n    Http.prototype.delete = function (url, data) {\n        return parseHttp_1.parseHttp('delete', url, data);\n    };\n    return Http;\n}());\nvar http = new Http();\nexports.default = http;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"../util\");\nvar $log = require(\"../log\");\n// 支持的类型\nvar httpType = ['get', 'post', 'put', 'delete', 'head', 'options'];\n/**\n * 解析http请求\n * @param type 请求类型\n * @param url\n * @param data\n */\nfunction parseHttp(type, url, data) {\n    if (util_1.default.type(type) != 'string' && !httpType.includes(type.toLowerCase())) {\n        $log.error('http请求类型必须为' + httpType + '中的一个');\n    }\n    if (util_1.default.type(url) != 'string') {\n        $log.error('http请求的url参数需为字符');\n    }\n    if (data && util_1.default.type(data) != 'object') {\n        $log.error('http请求的data参数需为对象');\n    }\n    var promise = new Promise(function (resolve, reject) {\n        var xhr = new XMLHttpRequest();\n        xhr.open(type, url);\n        xhr.onreadystatechange = handel;\n        xhr.responseType = 'json';\n        xhr.setRequestHeader('Accept', 'application/json');\n        xhr.send(data || null);\n        function handel() {\n            if (this.readyState != 4) {\n                return;\n            }\n            if (this.status == 200) {\n                resolve(this.response);\n            }\n            else {\n                reject(new Error(this.statusText));\n            }\n        }\n    });\n    return promise;\n}\nexports.parseHttp = parseHttp;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar store_1 = require(\"../store\");\nvar store = new store_1.default();\nvar Router = /** @class */ (function () {\n    function Router(url, routers) {\n        this.url = url;\n        this.routers = this._parseRouters(routers);\n        this.nowRouter = this._getNowRouter(url, this.routers);\n        this.params = this.nowRouter ? (this.nowRouter.params ? this.nowRouter.params : {}) : {};\n    }\n    /**\n     * 获取当前路由\n     * @param url 浏览器pathname\n     * @param routers 路由集合\n     */\n    Router.prototype._getNowRouter = function (url, routers) {\n        if (url.includes('?')) {\n            url = url.substr(0, url.lastIndexOf('?'));\n        }\n        return routers.filter(function (v) {\n            return url.match(v.info.regexp);\n        })[0];\n    };\n    Router.prototype._parseRouters = function (routers) {\n        var _this = this;\n        routers.forEach(function (v) {\n            var r = _this._pathToReg(v.path);\n            if (r != null) {\n                v.info = r;\n                _this.params = v.params || {};\n            }\n        });\n        return routers;\n    };\n    /**\n     * 转换路径为正则\n     * @param path 路径\n     */\n    Router.prototype._pathToReg = function (path) {\n        var ret = {\n            originalPath: path,\n            regexp: path\n        }, keys = ret.keys = [];\n        path = path\n            .replace(/([().])/g, '\\\\$1')\n            .replace(/(\\/)?:(\\w+)(\\*\\?|[?*])?/g, function (_, slash, key, option) {\n            var optional = (option === '?' || option === '*?') ? '?' : null;\n            var star = (option === '*' || option === '*?') ? '*' : null;\n            keys.push({ name: key, optional: !!optional });\n            slash = slash || '';\n            return ''\n                + (optional ? '' : slash)\n                + '(?:'\n                + (optional ? slash : '')\n                + (star && '(.+?)' || '([^/]+)')\n                + (optional || '')\n                + ')'\n                + (optional || '');\n        })\n            .replace(/([/$*])/g, '\\\\$1');\n        ret.regexp = new RegExp('^' + path + '$', '');\n        return ret;\n    };\n    /**\n     * 跳转到已存在的路由页面\n     * @param path 需要跳转的路径\n     */\n    Router.prototype.go = function (_a) {\n        var _b = _a.path, path = _b === void 0 ? '' : _b, _c = _a.params, params = _c === void 0 ? {} : _c;\n        updateRouterConfig(path, params);\n        this.hash(path);\n    };\n    /**\n     * url的hash\n     * @param path\n     */\n    Router.prototype.hash = function (path) {\n        if (!path) {\n            return window.location.hash;\n        }\n        window.location.hash = '#' + path;\n    };\n    /**\n     * 刷新当前路由\n     */\n    Router.prototype.reflesh = function () {\n        var hash = window.location.hash;\n        window.location.hash = '#';\n        window.location.hash = hash;\n    };\n    /**\n     * 返回\n     */\n    Router.prototype.back = function () {\n        window.history.back();\n    };\n    return Router;\n}());\nexports.default = Router;\n// 更新路由配置\nfunction updateRouterConfig(path, params) {\n    store.get('routerConfig').forEach(function (v) {\n        if (v.path == path) {\n            v.params = params;\n        }\n    });\n    store.data('routerConfig', store.get('routerConfig'));\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar $log = require(\"../../log\");\nvar util_1 = require(\"../../util\");\nvar loader_1 = require(\"../loader\");\nvar loader = new loader_1.default();\n// 处理函数\nvar FN_REG = /^function\\s*[^\\(]*\\(\\s*([^\\)]*)\\)/m;\n// 处理空格\nvar SPACE_REG = /^\\s*(\\S+)\\s*$/;\n// 处理注释\nvar COMMENTS_REG = /(\\/\\*.*?\\*\\/)|(\\/\\/$)/mg;\nvar Injector = /** @class */ (function () {\n    function Injector() {\n    }\n    /**\n     * 模块注入函数\n     * @param moduleNames 模块名称\n     * @param strict 严格模式的判断，默认false\n     */\n    Injector.prototype.inject = function (moduleNames, strict) {\n        if (util_1.default.type(moduleNames) != 'array')\n            $log.error('模块的名称的参数为数组');\n        // 缓存data数据\n        var providerCache = { $injector: undefined, $provider: { data: undefined, provider: undefined } };\n        var providerInjecter = providerCache.$injector = injectAgency(providerCache, function () {\n            // $log.error('未知的provider'+JSON.stringify(depPath));\n        });\n        var dataCache = { $injector: undefined };\n        var dataInjecter = dataCache.$injector = injectAgency(dataCache, function (name) {\n            var provider = providerInjecter.get(name + 'Provider');\n            return dataInjecter.invoke(provider.$get, provider);\n        });\n        // 已经加载的模块\n        var loadedModules = new Map();\n        var cricle = false;\n        // provider依赖数组,[['数组名',['依赖项']]] [['a',['b']]]\n        var depPath = [];\n        // run 函数队列\n        var runQueue = [];\n        /**\n         * 处理函数的返回值\n         * @param fn\n         */\n        function handelReturn(fn) {\n            return function () {\n                var val = dataInjecter.invoke(fn);\n                if (util_1.default.type(val) == 'undefined') {\n                    $log.error('factory函数必须有返回值');\n                }\n                return val;\n            };\n        }\n        providerCache.$provider = {\n            data: function (key, val) {\n                if (key == 'hasOwnProperty' || key == '$injector' || key == '$provider')\n                    $log.error(key + '不能用于标识符');\n                dataCache[key] = val;\n                providerCache[key] = val;\n            },\n            provider: function (key, val) {\n                if (key == 'hasOwnProperty' || key == '$injector' || key == '$provider')\n                    $log.error(key + '不能用于标识符');\n                if (util_1.default.type(val) == 'function') {\n                    // val = instantiate(val);\n                    val = providerInjecter.instantiate(val);\n                }\n                providerCache[key + 'Provider'] = val;\n            },\n            factory: function (key, fn) {\n                this.provider(key, { $get: handelReturn(fn) });\n            },\n            value: function (key, val) {\n                this.factory(key, function () { return val; });\n            },\n            service: function (key, fn) {\n                this.factory(key, function () {\n                    return dataInjecter.instantiate(fn);\n                });\n            }\n        };\n        var listQueue = function (queues) {\n            queues.forEach(function (inq) {\n                var service = providerInjecter.get(inq[0]);\n                var method = inq[1];\n                var args = inq[2];\n                // const arr = [args[0], args[1]];\n                // providerCache.$provider[method].apply(providerCache.$provider, args);\n                service[method].apply(service, args);\n            });\n        };\n        moduleNames.forEach(function loadMobule(val) {\n            if (!loadedModules.get(val)) {\n                loadedModules.set(val, true);\n                if (util_1.default.type(val) == 'string') {\n                    var module_1 = loader.module(val);\n                    module_1.requires.forEach(loadMobule); // 递归其他的依赖模块\n                    listQueue(module_1._invokeQueue);\n                    listQueue(module_1._configQueue);\n                    runQueue = runQueue.concat(module_1._runQueue);\n                }\n                if (util_1.default.type(val) == 'function' || util_1.default.type(val) == 'array') {\n                    runQueue.push(providerInjecter.invoke(val));\n                }\n            }\n        });\n        //执行run函数队列\n        util_1.default.arrayCompact(runQueue).forEach(function (run) {\n            dataInjecter.invoke(run);\n        });\n        function injectAgency(cache, fn) {\n            /**\n             * 处理缓存\n             * @param name data或者provideer名称\n             */\n            function handelCache(name) {\n                handeldepPath(depPath);\n                if (cache.hasOwnProperty(name)) {\n                    return cache[name];\n                }\n                else {\n                    try {\n                        return (cache[name] = fn(name));\n                    }\n                    finally {\n                        if (cricle)\n                            delete cache[name];\n                    }\n                }\n            }\n            /**\n             * $inject内部的调用函数\n             * @param fn 注入的函数或数组\n             * @param obj 对象，fn为其属性\n             * @param local 用于覆盖$inject数组的item项\n             * @param name data或provider名称\n             */\n            function invoke(fn, obj, local, name) {\n                if (arguments.length == 1) {\n                    obj = null;\n                }\n                var args = annotate(fn, name).map(function (v) {\n                    if (util_1.default.type(v) == 'string')\n                        return (local && local.hasOwnProperty(v)) ? local[v] : handelCache(v);\n                    else\n                        $log.error('无效的标识符' + v + '，标识符应为字符串');\n                });\n                if (util_1.default.type(fn) == 'array') {\n                    fn = fn.slice(-1)[0];\n                }\n                return fn.apply(obj, args);\n            }\n            /**\n             * 实例化\n             * @param fn\n             * @param local\n             */\n            function instantiate(fn, local) {\n                var fn2 = util_1.default.type(fn) == 'array' ? fn.slice(-1)[0] : fn;\n                var instance = Object.create(fn2.prototype);\n                invoke(fn, instance, local);\n                return instance;\n            }\n            function hasKey(key) {\n                return dataCache.hasOwnProperty(key) || providerCache.hasOwnProperty(key + 'Provider');\n            }\n            return {\n                has: hasKey,\n                get: handelCache,\n                invoke: invoke,\n                annotate: annotate,\n                instantiate: instantiate\n            };\n        }\n        function handeldepPath(arr) {\n            if (arr.length) {\n                if (arr[arr.length - 1][1].includes(arr[0][0])) {\n                    var path = arr.map(function (v) {\n                        return v[0];\n                    });\n                    path.push(arr[0][0]);\n                    cricle = true;\n                    $log.error('发现循环依赖' + path.join('->'));\n                }\n            }\n        }\n        /**\n         * 装饰器函数\n         * @param fn 注入的函数\n         */\n        function annotate(fn, name) {\n            var arr = [];\n            if (util_1.default.type(fn) == 'array') {\n                if (fn.length)\n                    arr = fn.slice(0, fn.length - 1);\n                else\n                    arr = [];\n            }\n            if (util_1.default.type(fn) == 'function') {\n                if (strict) {\n                    $log.error('函数没有$inject属性，不能再严格模式下使用');\n                }\n                else if (fn.$inject) { //普通函数，有$inject属性\n                    arr = fn.$inject;\n                }\n                else {\n                    var fns = (fn.toString().replace(COMMENTS_REG, '')).match(FN_REG);\n                    arr = util_1.default.arrayCompact(fns[1].split(',')).map(function (a) {\n                        return a.match(SPACE_REG)[1];\n                    });\n                    if (name != null) {\n                        depPath.push([name, arr]);\n                    }\n                }\n            }\n            // console.log(arr)\n            return arr;\n        }\n        return dataInjecter;\n    };\n    return Injector;\n}());\nexports.default = Injector;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar $log = require(\"../log\");\nvar util_1 = require(\"../util\");\n/**\n * 验证组件的状态\n * @param component 组件\n */\nfunction componentGuard(component) {\n    // 验证组件名称\n    if (!component.name) {\n        return;\n    }\n    if (component.name) {\n        if (util_1.default.type(component.name) != 'string')\n            $log.error('组件' + component.name + '的名称必须为字符串');\n    }\n    // 验证组件components属性\n    if (component.components) {\n        if (util_1.default.type(component.components) != 'array') {\n            $log.error('组件' + component.name + '的components属性应为数组！');\n        }\n    }\n    // 验证组件style属性\n    if (component.style) {\n        if (util_1.default.type(component.style) != 'string') {\n            $log.error('组件' + component.name + '的style属性应为字符！');\n        }\n    }\n    // 验证组件styleeId属性\n    if (component.styleId) {\n        if (util_1.default.type(component.styleId) != 'string') {\n            $log.error('组件' + component.name + '的styleId属性应为字符！');\n        }\n        if (document.querySelector(component.styleId) == undefined) {\n            $log.error('节点' + component.styleId + '不存在');\n        }\n    }\n    // 验证组件template属性\n    if (component.template) {\n        if (util_1.default.type(component.template) != 'string') {\n            $log.error('组件' + component.name + '的template属性应为字符！');\n        }\n    }\n    // 验证组件templateId属性\n    if (component.templateId) {\n        if (util_1.default.type(component.templateId) != 'string') {\n            $log.error('组件' + component.name + '的templateId属性应为字符！');\n        }\n        if (document.querySelector(component.templateId) == undefined) {\n            $log.error('节点' + component.templateId + '不存在');\n        }\n    }\n    // 验证组件data属性\n    if (component.data) {\n        if (util_1.default.type(component.data) != 'object') {\n            $log.error('组件' + component.name + '的data属性应为对象！');\n        }\n    }\n    // 验证组件props属性\n    if (component.props) {\n        if (util_1.default.type(component.props) != 'object') {\n            $log.error('组件' + component.name + '的props属性应为对象！');\n        }\n        // 验证type类型\n        Object.entries(component.props).forEach(function (v) {\n            if (util_1.default.type(v[1]['default']) != v[1]['type']) {\n                $log.error('组件' + component.name + 'props属性中元素' + v[0] + '的default值非' + v[1]['type'] + '类型！');\n            }\n        });\n    }\n    // 验证组件props方法\n    if (component.beforeRender) {\n        if (util_1.default.type(component.beforeRender) != 'function') {\n            $log.error('组件' + component.name + '的beforeRender属性应为函数！');\n        }\n    }\n    // 验证组件render方法\n    if (component.render) {\n        if (util_1.default.type(component.render) != 'function') {\n            $log.error('组件' + component.name + '的render属性应为函数！');\n        }\n    }\n    else {\n        return;\n    }\n}\nexports.default = componentGuard;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar targetDom_1 = require(\"./targetDom\");\nvar nodeModel_1 = require(\"./nodeModel\");\nvar eventModel_1 = require(\"./eventModel\");\nvar moveModel_1 = require(\"./moveModel\");\nvar statusModel_1 = require(\"./statusModel\");\nvar mixins_1 = require(\"../mixins\");\n// dom操作\nvar DomAction = /** @class */ (function (_super) {\n    __extends(DomAction, _super);\n    function DomAction(selector) {\n        return _super.call(this, selector) || this;\n    }\n    return DomAction;\n}(targetDom_1.default));\nmixins_1.applyMixins(DomAction, [nodeModel_1.default, eventModel_1.default, moveModel_1.default, statusModel_1.default]);\nvar Dom = function (selector) {\n    var dom = new DomAction(selector);\n    return dom;\n};\nexports.default = Dom;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar targetDom_1 = require(\"./targetDom\");\nvar util_1 = require(\"../util\");\n// 操作dom节点\nvar nodeModel = /** @class */ (function (_super) {\n    __extends(nodeModel, _super);\n    function nodeModel(selector) {\n        return _super.call(this, selector) || this;\n    }\n    /**\n     * 设置，获取html\n     * @param str html值\n     */\n    nodeModel.prototype.html = function (str) {\n        if (str && util_1.default.type(str) != 'string') {\n            return;\n        }\n        if (!str) {\n            return this.els[0].innerHTML;\n        }\n        else {\n            this.each(this.els, function (val, index) {\n                val.innerHTML = str;\n            });\n            return this;\n        }\n    };\n    /**\n     * 设置，获取节点文本\n     * @param str 文本值\n     */\n    nodeModel.prototype.text = function (str) {\n        var e_1, _a;\n        if (str && util_1.default.type(str) != 'string') {\n            return;\n        }\n        try {\n            for (var _b = __values(this.els), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var i = _c.value;\n                if (arguments.length == 0) {\n                    return i.innerText || i.textContent;\n                }\n                else if (arguments.length == 1) {\n                    if (i.innerText) {\n                        i.innerText = str;\n                    }\n                    else {\n                        i.textContent = str;\n                    }\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return this;\n    };\n    nodeModel.prototype.css = function (key, value) {\n        var e_2, _a;\n        if (key && util_1.default.type(key) != 'string') {\n            return;\n        }\n        if (value && util_1.default.type(value) != 'string') {\n            return;\n        }\n        try {\n            for (var _b = __values(this.els), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var i = _c.value;\n                if (arguments.length == 1) {\n                    return window.getComputedStyle(i, null)[key];\n                }\n                else if (arguments.length == 2) {\n                    i.style[key] = value;\n                    return this;\n                }\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n    };\n    /**\n     * 获取，设置元素宽度\n     * @param str\n     */\n    nodeModel.prototype.width = function (str) {\n        var e_3, _a;\n        if (str && util_1.default.type(str) != 'string') {\n            return;\n        }\n        try {\n            for (var _b = __values(this.els), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var i = _c.value;\n                if (str) {\n                    i.style.width = str;\n                }\n                else {\n                    return i.offsetWidth;\n                }\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n        return this;\n    };\n    /**\n    * 获取，设置元素高度\n    * @param str\n    */\n    nodeModel.prototype.height = function (str) {\n        var e_4, _a;\n        if (str && util_1.default.type(str) != 'string') {\n            return;\n        }\n        try {\n            for (var _b = __values(this.els), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var i = _c.value;\n                if (str) {\n                    i.style.height = str;\n                }\n                else {\n                    return i.offsetHeight;\n                }\n            }\n        }\n        catch (e_4_1) { e_4 = { error: e_4_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_4) throw e_4.error; }\n        }\n        return this;\n    };\n    /**\n     * 获取，设置节点的属性值\n     * @param attr 属性名\n     * @param value 属性值\n     */\n    nodeModel.prototype.attr = function (attr, value) {\n        var e_5, _a;\n        if (util_1.default.type(attr) != 'string') {\n            return;\n        }\n        if (value && util_1.default.type(value) != 'string') {\n            return;\n        }\n        try {\n            for (var _b = __values(this.els), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var i = _c.value;\n                if (arguments.length == 1) {\n                    if (i.hasAttribute(attr)) {\n                        return i.getAttribute(attr);\n                    }\n                }\n                else if (arguments.length == 2) {\n                    i.setAttribute(attr, value);\n                    return this;\n                }\n            }\n        }\n        catch (e_5_1) { e_5 = { error: e_5_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_5) throw e_5.error; }\n        }\n    };\n    /**\n     * 获取，设置节点的value值\n     * @param str value值\n     */\n    nodeModel.prototype.val = function (str) {\n        var e_6, _a;\n        if (str && util_1.default.type(str) != 'string') {\n            return;\n        }\n        try {\n            for (var _b = __values(this.els), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var i = _c.value;\n                if (arguments.length == 1) {\n                    var oldStr = i.getAttribute('value');\n                    i.setAttribute(oldStr, str);\n                }\n                else if (arguments.length == 0) {\n                    if (i.nodeName.match(/INPUT|TEXTAREA|SELECT|RADIO|CHECKBOX/)) {\n                        return i.value;\n                    }\n                    return i.getAttribute('value');\n                }\n            }\n        }\n        catch (e_6_1) { e_6 = { error: e_6_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_6) throw e_6.error; }\n        }\n        return this;\n    };\n    /**\n     * 给节点添加class\n     * @param name\n     */\n    nodeModel.prototype.addClass = function (name) {\n        var e_7, _a;\n        if (name && util_1.default.type(name) != 'string') {\n            return;\n        }\n        try {\n            for (var _b = __values(this.els), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var i = _c.value;\n                i.classList.add(name);\n            }\n        }\n        catch (e_7_1) { e_7 = { error: e_7_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_7) throw e_7.error; }\n        }\n        return this;\n    };\n    /**\n     * 删除节点的class\n     * @param name\n     */\n    nodeModel.prototype.removeClass = function (name) {\n        var e_8, _a;\n        if (name && util_1.default.type(name) != 'string') {\n            return;\n        }\n        try {\n            for (var _b = __values(this.els), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var i = _c.value;\n                i.classList.remove(name);\n            }\n        }\n        catch (e_8_1) { e_8 = { error: e_8_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_8) throw e_8.error; }\n        }\n        return this;\n    };\n    /**\n     * 切换class\n     */\n    nodeModel.prototype.toggleClass = function (name) {\n        var e_9, _a;\n        if (name && util_1.default.type(name) != 'string') {\n            return;\n        }\n        try {\n            for (var _b = __values(this.els), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var i = _c.value;\n                if (i.classList.toggle(name)) {\n                    return true;\n                }\n                else {\n                    return false;\n                }\n            }\n        }\n        catch (e_9_1) { e_9 = { error: e_9_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_9) throw e_9.error; }\n        }\n    };\n    return nodeModel;\n}(targetDom_1.default));\nexports.default = nodeModel;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar targetDom_1 = require(\"./targetDom\");\nvar util_1 = require(\"../util\");\n// 事件的操作\nvar eventModel = /** @class */ (function (_super) {\n    __extends(eventModel, _super);\n    function eventModel(selector) {\n        return _super.call(this, selector) || this;\n    }\n    // 事件绑定\n    eventModel.prototype.on = function (eventType, fn) {\n        this.each(this.els, function (val, index) {\n            val.addEventListener(eventType, fn, false);\n        });\n    };\n    // 解除事件绑定\n    eventModel.prototype.off = function (eventType, fn) {\n        this.each(this.els, function (val, index) {\n            val.removeEventListener(eventType, fn, false);\n        });\n    };\n    // 鼠标移入移除\n    eventModel.prototype.hover = function (hover, out) {\n        var e_1, _a;\n        try {\n            for (var _b = __values(this.els), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var i = _c.value;\n                if (util_1.default.type(hover) == 'function') {\n                    i.addEventListener('mouseover', hover, false);\n                }\n                else {\n                    throw new Error('hover方法：没有传递回调函数');\n                }\n                if (util_1.default.type(out) == 'function') {\n                    i.addEventListener('mouseout', hover, false);\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return this;\n    };\n    // 点击事件\n    eventModel.prototype.click = function (fn) {\n        var e_2, _a;\n        try {\n            for (var _b = __values(this.els), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var i = _c.value;\n                if (util_1.default.type(fn) == 'function') {\n                    i.addEventListener('click', fn, false);\n                }\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        return this;\n    };\n    //设置点击切换方法\n    eventModel.prototype.toggle = function () {\n        var e_3, _a;\n        try {\n            for (var _b = __values(this.els), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var i = _c.value;\n                (function (element, args) {\n                    var count = 0;\n                    element.addEventListener('click', function () {\n                        args[count++ % args.length].call(this);\n                    }, false);\n                })(i, arguments);\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n        return this;\n    };\n    //窗口滚动事件\n    eventModel.prototype.scroll = function (fn) {\n        var e_4, _a;\n        try {\n            for (var _b = __values(this.els), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var i = _c.value;\n                if (util_1.default.type(fn) == 'function') {\n                    i.addEventListener('scroll', fn, false);\n                }\n            }\n        }\n        catch (e_4_1) { e_4 = { error: e_4_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_4) throw e_4.error; }\n        }\n        return this;\n    };\n    eventModel.prototype.resize = function (fn) {\n        var e_5, _a;\n        try {\n            for (var _b = __values(this.els), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var i = _c.value;\n                var offsetLeft = i.offsetLeft;\n                var offsetWidth = i.offsetWidth;\n                var offsetTop = i.offsetTop;\n                var offsetHeight = i.offsetHeight;\n                window.onresize = function () {\n                    fn();\n                    if (offsetLeft >= util_1.default.page().width - offsetWidth) {\n                        offsetLeft = util_1.default.page().width - offsetWidth;\n                    }\n                    if (offsetTop >= util_1.default.page().height - offsetHeight) {\n                        offsetTop = util_1.default.page().height - offsetHeight;\n                    }\n                };\n            }\n        }\n        catch (e_5_1) { e_5 = { error: e_5_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_5) throw e_5.error; }\n        }\n        return this;\n    };\n    return eventModel;\n}(targetDom_1.default));\nexports.default = eventModel;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar targetDom_1 = require(\"./targetDom\");\nvar moveModel = /** @class */ (function (_super) {\n    __extends(moveModel, _super);\n    function moveModel(selector) {\n        return _super.call(this, selector) || this;\n    }\n    moveModel.prototype.show = function (delay) {\n        var e_1, _a, e_2, _b;\n        if (delay && typeof delay == 'number') {\n            var _loop_1 = function (i) {\n                setTimeout(function () {\n                    i.style.display = 'none';\n                }, delay || 500);\n            };\n            try {\n                for (var _c = __values(this.els), _d = _c.next(); !_d.done; _d = _c.next()) {\n                    var i = _d.value;\n                    _loop_1(i);\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n        }\n        else if (!delay) {\n            try {\n                for (var _e = __values(this.els), _f = _e.next(); !_f.done; _f = _e.next()) {\n                    var i = _f.value;\n                    i.style.display = 'block';\n                }\n            }\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\n            finally {\n                try {\n                    if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n                }\n                finally { if (e_2) throw e_2.error; }\n            }\n        }\n        return this;\n    };\n    moveModel.prototype.hide = function (delay) {\n        var e_3, _a, e_4, _b;\n        if (delay && typeof delay == 'number') {\n            var _loop_2 = function (i) {\n                setTimeout(function () {\n                    i.style.display = 'block';\n                }, delay || 500);\n            };\n            try {\n                for (var _c = __values(this.els), _d = _c.next(); !_d.done; _d = _c.next()) {\n                    var i = _d.value;\n                    _loop_2(i);\n                }\n            }\n            catch (e_3_1) { e_3 = { error: e_3_1 }; }\n            finally {\n                try {\n                    if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n                }\n                finally { if (e_3) throw e_3.error; }\n            }\n        }\n        else if (!delay) {\n            try {\n                for (var _e = __values(this.els), _f = _e.next(); !_f.done; _f = _e.next()) {\n                    var i = _f.value;\n                    i.style.display = 'none';\n                }\n            }\n            catch (e_4_1) { e_4 = { error: e_4_1 }; }\n            finally {\n                try {\n                    if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n                }\n                finally { if (e_4) throw e_4.error; }\n            }\n        }\n        return this;\n    };\n    return moveModel;\n}(targetDom_1.default));\nexports.default = moveModel;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar targetDom_1 = require(\"./targetDom\");\nvar util_1 = require(\"../util\");\n// 操作dom节点\nvar statusModel = /** @class */ (function (_super) {\n    __extends(statusModel, _super);\n    function statusModel(selector) {\n        return _super.call(this, selector) || this;\n    }\n    // 判断节点是否拥有属性\n    statusModel.prototype.hasAttrs = function () {\n        var e_1, _a;\n        try {\n            for (var _b = __values(this.els), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var i = _c.value;\n                if (i.hasAttributes()) {\n                    return true;\n                }\n                else {\n                    return false;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    };\n    /**\n     * 判断节点是否有某个属性\n     * @param attr 属性名\n     */\n    statusModel.prototype.hasAttr = function (attr) {\n        var e_2, _a;\n        if (attr && util_1.default.type(attr) != 'string') {\n            return;\n        }\n        try {\n            for (var _b = __values(this.els), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var i = _c.value;\n                if (i.hasAttribute(attr)) {\n                    return true;\n                }\n                else {\n                    return false;\n                }\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n    };\n    /**\n     * 判断节点是否有某个class\n     * @param name class名称\n     */\n    statusModel.prototype.hasClass = function (name) {\n        var e_3, _a;\n        if (name && util_1.default.type(name) != 'string') {\n            return;\n        }\n        try {\n            for (var _b = __values(this.els), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var i = _c.value;\n                if (i.classList.contains(name)) {\n                    return true;\n                }\n                else {\n                    return false;\n                }\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n    };\n    return statusModel;\n}(targetDom_1.default));\nexports.default = statusModel;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Cookie = {\n    // 判断cookie是否可用\n    support: function () {\n        if (!(document.cookie || navigator.cookieEnabled))\n            return false;\n        return true;\n    },\n    // 添加cookie\n    set: function (name, value, config) {\n        // config = {hours, path, domain, secure}\n        var data = name + \"=\" + encodeURIComponent(value);\n        console.log(123);\n        if (config && config.hours != undefined) {\n            var d = new Date();\n            d.setHours(d.getHours() + config.hours);\n            data += \"; expires=\" + d.toUTCString();\n        }\n        data += (config && config.path) ? (\"; path=\" + config.path) : \"\";\n        data += (config && config.domain) ? (\"; domain=\" + config.domain) : \"\";\n        data += (config && config.secure) ? (\"; secure=\" + config.secure) : \"\";\n        document.cookie = data;\n    },\n    // 查询 cookie\n    get: function (name) {\n        var len = arguments.length;\n        if (len == 0) {\n            var cs = document.cookie, arr = [], arr2 = [], obj = {};\n            arr = cs.split(';');\n            // console.log(arr);\n            for (var i = 0; i < arr.length; i++) {\n                var a = arr[i].split('=');\n                var a1 = [a[0].trim(), decodeURIComponent(a[1])];\n                arr2.push(a1);\n            }\n            return JSON.stringify(arr2);\n        }\n        else if (len == 1) {\n            var reg = eval(\"/(?:^|;\\\\s*)\" + name + \"=([^=]+)(?:;|$)/\");\n            return reg.test(document.cookie) ? decodeURIComponent(RegExp.$1) : \"\";\n        }\n    },\n    // 删除 cookie\n    remove: function (name, path) {\n        if (arguments.length == 0) {\n            var all = this.get();\n            for (var i = 0; i < all.length; i++) {\n                this.set(all[i][0], \"\", -1);\n            }\n        }\n        this.set(name, path || '', { \"hours\": -1 });\n    }\n};\nexports.default = Cookie;\n"],"sourceRoot":""}